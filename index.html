<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Express Your Thoughts</title>
  <meta name="description" content="Share your ideas, opinions, and creative thoughts freely on Express Your Thoughts.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://expressyourthoughts.live">

  <!-- These help when people share your site -->
  <meta property="og:title" content="Express Your Thoughts">
  <meta property="og:description" content="A platform to express and explore creative thoughts.">
  <meta property="og:url" content="https://expressyourthoughts.live">
  <meta property="og:type" content="website">




<!-- Font Awesome Icons with Colorful Styling -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- CHANGE FROM FIRESTORE TO REALTIME DATABASE -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>


    <title>Express Your Thoughts | Share Your Ideas & Win Cash Prizes</title>
    
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Express Your Thoughts - Share your innovative ideas, future plans, and creative visions. Top 3 submissions win cash prizes! Join our community of forward-thinkers.">
    <meta name="keywords" content="express your thoughts, share ideas, creative platform, future plans, innovation contest, cash prizes, thought sharing">
    <meta name="author" content="Express Your Thoughts">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags for Social Media -->
    <meta property="og:title" content="Express Your Thoughts | Share Your Ideas & Win Cash Prizes">
    <meta property="og:description" content="Platform where your future plans and innovative ideas come to life. Share your thoughts and win cash prizes!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://expressyourthoughts.live">
    <meta property="og:site_name" content="Express Your Thoughts">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Express Your Thoughts | Share Your Ideas & Win Cash Prizes">
    <meta name="twitter:description" content="Share your innovative ideas and future plans. Top 3 submissions win cash prizes!">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://expressyourthoughts.live">
    
    <!-- Structured Data for Search Engines -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Express Your Thoughts",
        "url": "https://expressyourthoughts.live",
        "description": "Platform for sharing innovative ideas and future plans with cash prize contests",
        "contactPoint": {
            "@type": "ContactPoint",
            "email": "dileepchoudhary1008@gmail.com",
            "contactType": "customer support"
        }
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
        }

        /* Animated gradient background */
             /* Hero with slideshow background */
        .hero {
            background: #667eea; /* Fallback color */
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Floating particles */
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0; }
            50% { transform: translateY(-100px) rotate(180deg); opacity: 1; }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            transition: all 0.3s ease;
        }

        nav.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #667eea;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        .auth-buttons {
                flex-direction: column;
                gap: 0.5rem;
            }

            .btn-login, .btn-signup {
                font-size: 0.85rem;
                padding: 6px 15px;
            }

            .opportunity-cards {
                grid-template-columns: 1fr;
            }

            .dashboard-tabs {
                flex-wrap: wrap;
            }

            .tab-btn {
                flex: 1;
                min-width: 100px;
            }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: #667eea;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #667eea;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Hero Content */
        .hero-content {
            text-align: center;
            color: white;
            max-width: 900px;
            padding: 0 2rem;
            z-index: 2;
            position: relative;
            animation: fadeInScale 1.2s ease-out;
        }

        .hero-content h1 {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            animation: slideInUp 1s ease-out;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: -1px;
        }

        .hero-content .tagline {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            animation: slideInUp 1s ease-out 0.2s both;
            opacity: 0.95;
            font-weight: 600;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-content .description {
            font-size: 1.2rem;
            margin-bottom: 3.5rem;
            animation: slideInUp 1s ease-out 0.4s both;
            line-height: 1.9;
            opacity: 0.9;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: slideInUp 1s ease-out 0.6s both;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: white;
            color: #667eea;
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(102, 126, 234, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-primary:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 30px rgba(0,0,0,0.35);
        }

        .btn-primary:active {
            transform: translateY(-2px) scale(1.02);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: white;
            color: #667eea;
            transform: translateY(-3px);
        }

        /* Sections */
        .section {
            padding: 80px 0;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
        }

        .section h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #333;
            position: relative;
        }

        .section h2::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            margin: 1rem auto;
            border-radius: 2px;
        }

        /* Submission Form */
        .form-container {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #555;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* About Section */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
        }

        .about-image {
            text-align: center;
            font-size: 8rem;
            color: #667eea;
            opacity: 0.7;
        }

        /* Contest Rules */
        .rules {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin: 80px 0;
            border-radius: 20px;
            padding: 4rem 2rem;
        }

        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .rule-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
        }

        .rule-card .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* Social Links */
        .social-section {
            background: #f8f9fa;
            text-align: center;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .social-link {
            display: inline-block;
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 50%;
            text-decoration: none;
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .social-link:hover {
            transform: scale(1.1) rotate(5deg);
        }
        /* About Me Section */
        .about-me-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .about-me-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 3rem;
            align-items: start;
            margin-bottom: 4rem;
        }

        .about-me-photo {
            text-align: center;
            position: sticky;
            top: 100px;
        }

        .about-me-photo img {
            width: 100%;
            max-width: 400px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .about-me-photo img:hover {
            transform: scale(1.05);
        }

        .photo-caption {
            margin-top: 1rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
        }

        .about-me-text {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .about-me-text h3 {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 1.5rem;
        }

        .about-me-text p {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
            margin-bottom: 1.5rem;
        }

        .about-me-contact {
            margin-top: 2rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 15px;
            color: white;
        }

        .about-me-contact p {
            color: white;
            margin-bottom: 0.5rem;
        }

        .about-me-contact strong {
            font-size: 1.1rem;
        }

        /* Photo Gallery */
        .photo-gallery-section {
            margin-top: 4rem;
        }

        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        .team-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.25);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
            padding: 1.5rem 1rem 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: center;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-caption {
            transform: translateY(0);
        }
/* Winners Gallery */
        .contest-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .contest-title h3 {
            font-size: 2rem;
            color: #667eea;
            position: relative;
            display: inline-block;
            padding-bottom: 10px;
        }

        .contest-title h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 2px;
        }

        .winners-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
            margin-bottom: 4rem;
        }
.about-me-container {
                grid-template-columns: 1fr;
            }

            .about-me-photo {
                position: relative;
                top: 0;
            }

            .about-me-text {
                padding: 2rem;
            }

            .photo-gallery {
                grid-template-columns: 1fr;
            }
        .winner-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            border: 3px solid transparent;
        }

        .winner-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .winner-first {
            border-color: #FFD700;
        }

        .winner-second {
            border-color: #C0C0C0;
        }

        .winner-third {
            border-color: #CD7F32;
        }

        .winner-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1rem;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .winner-first .winner-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: white;
        }

        .winner-second .winner-badge {
            background: linear-gradient(135deg, #C0C0C0, #A8A8A8);
            color: white;
        }

        .winner-third .winner-badge {
            background: linear-gradient(135deg, #CD7F32, #B8860B);
            color: white;
        }

        .winner-image {
            width: 100%;
            height: 300px;
            overflow: hidden;
            position: relative;
        }

        .winner-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .winner-card:hover .winner-image img {
            transform: scale(1.05);
        }

        .winner-content {
            padding: 2rem;
        }

        .winner-name {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .winner-title {
            font-size: 1.1rem;
            color: #667eea;
            font-style: italic;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .winner-category {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .winner-description {
            font-size: 1rem;
            line-height: 1.6;
            color: #555;
            margin-bottom: 1.5rem;
        }

        .winner-prize {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1rem;
        }
        /* Team Section */
        .team-section {
            background: white;
        }

        /* Testimonials */
        .testimonials {
            background: linear-gradient(135deg, #f5f7fa 0%, #e9eef5 100%);
            padding: 80px 0;
        }

        .testimonials .cards {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.25rem;
        }

        .testimonial-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid rgba(102,126,234,0.2);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .testimonial-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .testimonial-card:hover::before {
            left: 100%;
        }

        .testimonial-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.25);
            border-color: #667eea;
        }

        .testimonial-user {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-top: 0.75rem;
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: grid;
            place-items: center;
            font-weight: 700;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }

        .testimonial-card:hover .avatar {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }

        /* Exclusive Content Styles */
        .exclusive-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
            margin-bottom: 2rem;
        }

        .exclusive-card h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .exclusive-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .content-item {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .content-item video,
        .content-item img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        .payment-modal {
            z-index: 13000;
        }

        .payment-form {
            padding: 2rem;
        }

        .price-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            margin: 1rem 0;
        }

        /* Math Puzzle Game Styles */
        .math-puzzle-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 80px 0;
        }

        .puzzle-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .puzzle-question {
            font-size: 2rem;
            text-align: center;
            margin: 2rem 0;
            color: #333;
            font-weight: bold;
        }

        .puzzle-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }

        .puzzle-btn {
            padding: 1.5rem;
            font-size: 1.3rem;
            border: 3px solid #667eea;
            border-radius: 12px;
            background: white;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .puzzle-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-3px);
        }

        .puzzle-btn.correct {
            background: #4caf50;
            border-color: #4caf50;
            color: white;
        }

        .puzzle-btn.wrong {
            background: #f44336;
            border-color: #f44336;
            color: white;
        }

        .puzzle-score {
            text-align: center;
            font-size: 1.5rem;
            margin: 1rem 0;
            color: #667eea;
            font-weight: bold;
        }

        .puzzle-controls {
            text-align: center;
            margin-top: 2rem;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 3rem 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .team-member {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .team-member:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .team-photo {
            margin-bottom: 1.5rem;
        }

        .team-photo img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .team-member:hover .team-photo img {
            transform: scale(1.1);
        }

        .team-info {
            padding: 0 1rem;
        }

        .team-name {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .team-position {
            font-size: 1rem;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .team-description {
            font-size: 0.95rem;
            color: #555;
            line-height: 1.6;
        }
        /* Footer */
        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 2rem 0;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-content .tagline {
                font-size: 1.1rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .about-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .rules-grid {
                grid-template-columns: 1fr;
            }

            .form-container {
                padding: 2rem 1.5rem;
            }
        }
            .winners-grid {
                grid-template-columns: 1fr;
            }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        /* Dashboard modal - lower z-index so other modals can appear above */
        .dashboard-modal {
            z-index: 11000;
        }

        /* Modals that should appear above dashboard */
        #newPostModal,
        #askMentorModal,
        #editProfileModal,
        #globalCommunityModal,
        #notificationsModal {
            z-index: 13000 !important;
        }

      
     

           .modal-content {
               /* Allow scrolling inside auth modals on small screens or long forms */
.auth-modal .modal-content {
    max-height: 90vh; /* Limit modal height to screen height */
    overflow-y: auto; /* Enable vertical scrolling inside modal */
    position: relative;
}

/* Prevent background scrolling when modal is open */
body.modal-open {
    overflow: hidden;
}

            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close:hover {
            color: #000;
        }

        /* Make close button sticky in dashboard */
        .dashboard-modal-content .close {
            position: sticky;
            top: 15px;
            float: right;
            z-index: 10001;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.15);
            margin: 15px 20px 0 0;
            transition: all 0.3s ease;
        }

        .dashboard-modal-content .close:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
            color: #667eea;
        }
/* Auth Buttons in Navigation */
        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn-login, .btn-signup {
            padding: 10px 24px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .btn-login {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-login:hover {
            background: #667eea;
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-signup {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: 2px solid transparent;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-signup:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-logout {
            padding: 10px 24px;
            background: linear-gradient(135deg, #f5576c, #f093fb);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }

       /* Enhanced Auth Modals */
        .auth-modal-content {
            max-width: 500px;
            padding: 0;
            overflow: hidden;
            max-height: 95vh;
            overflow-y: auto;
        }

        .auth-modal-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 2.5rem 2rem;
            text-align: center;
        }

        .auth-logo {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .auth-modal-header h2 {
            color: white;
            margin: 0 0 0.5rem 0;
            font-size: 2rem;
        }

        .auth-modal-header p {
            color: rgba(255,255,255,0.9);
            margin: 0;
            font-size: 1rem;
        }

        .auth-modal-content form {
            padding: 2rem;
        }

        .auth-modal-content .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        /* Colorful Icon Styles */
        .label-icon i,
        .stat-icon i,
        .icon i,
        .auth-logo i,
        .tab-btn i,
        .learning-tab-btn i,
        .community-tab-btn i {
            display: inline-block;
            margin-right: 0.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: inherit;
        }
        
        .stat-icon i {
            font-size: 2rem;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 50%, #ff8e8e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .icon i {
            font-size: 3rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .auth-logo i {
            font-size: 3rem;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 50%, #4facfe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .tab-btn i {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .tab-btn.active i {
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .label-icon {
            font-size: 1.1rem;
            margin-right: 0.5rem;
        }

        .auth-modal-content label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #555;
            font-size: 0.95rem;
        }

        .auth-modal-content input[type="email"],
        .auth-modal-content input[type="password"],
        .auth-modal-content input[type="text"],
        .auth-modal-content input[type="tel"] {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .auth-modal-content input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            background: white;
        }

        /* Password Input with Toggle */
        .password-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .password-input-wrapper input {
            padding-right: 50px;
        }

        .toggle-password {
            position: absolute;
            right: 12px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
            transition: transform 0.2s;
        }

        .toggle-password:hover {
            transform: scale(1.2);
        }

        /* Password Strength Indicator */
        .password-strength {
            height: 4px;
            background: #e1e5e9;
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
        }

        .strength-bar {
            height: 100%;
            width: 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .strength-weak { width: 33%; background: #f44336; }
        .strength-medium { width: 66%; background: #ff9800; }
        .strength-strong { width: 100%; background: #4caf50; }

        .password-hint {
            display: block;
            color: #888;
            font-size: 0.85rem;
            margin-top: 5px;
        }

        /* Form Options */
        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: normal;
            cursor: pointer;
        }

        .forgot-password {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        /* Checkbox Styling */
        .checkbox-label {
            display: flex;
            align-items: start;
            gap: 0.75rem;
            font-weight: normal;
            font-size: 0.95rem;
            color: #555;
            cursor: pointer;
        }

        .checkbox-label input[type="checkbox"] {
            margin-top: 3px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        /* Auth Buttons */
        .btn-auth {
            width: 100%;
            padding: 14px;
            font-size: 1.05rem;
            font-weight: 600;
            border-radius: 12px;
            position: relative;
        }

        .btn-google {
            width: 100%;
            padding: 14px;
            background: white;
            color: #555;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            transition: all 0.3s ease;
        }

        .btn-google:hover {
            background: #f8f9fa;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .google-icon {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #4285f4, #34a853, #fbbc05, #ea4335);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Divider */
        .divider {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e1e5e9;
        }

        .divider span {
            background: white;
            padding: 0 1rem;
            position: relative;
            color: #888;
            font-size: 0.9rem;
            font-weight: 600;
        }

                    .dashboard-modal-content {
            width: 95vw;
            height: 95vh;
            max-width: none;
            max-height: none;
            margin: 2.5vh auto;
            border-radius: 20px;
            overflow-y: auto !important; /* Force enable scrolling for entire dashboard */
            overflow-x: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
            /* Smooth scrolling */
            scroll-behavior: smooth;
            /* Ensure scrolling works on all devices */
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }

        /* Custom scrollbar for dashboard modal */
        .dashboard-modal-content::-webkit-scrollbar {
            width: 10px;
        }

        .dashboard-modal-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .dashboard-modal-content::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
        }

        .dashboard-modal-content::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }

        /* Make dashboard modal full screen background */
              .dashboard-modal .modal-content {
            width: 100%;
            height: 100%;
            margin: 0;
            border-radius: 0;
            max-width: none;
            max-height: none;
            overflow: visible; /* Allow scrolling to work */
        }

        /* Stop background scrolling when dashboard is open */
        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

                 .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            border-bottom: 2px solid #e1e5e9;
            background: linear-gradient(135deg, #667eea20, #764ba220);
            min-height: 80px;
            /* Allow header to scroll up naturally */
        }

        /* Dashboard visual polish */
        .dashboard-modal .modal-content {
            background: radial-gradient(1200px 600px at 10% -10%, #667eea10, transparent 60%),
                        radial-gradient(1200px 600px at 110% 110%, #764ba210, transparent 60%),
                        #ffffff;
        }

        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            padding: 1rem 2rem;
            /* Allow stats to scroll up naturally */
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 14px;
            padding: 1rem 1.25rem;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.25);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .stat-icon {
            width: 38px;
            height: 38px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            display: grid;
            place-items: center;
            font-size: 1.1rem;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .dashboard-header h2 {
            color: #667eea;
            margin: 0;
            font-size: 2rem;
        }

        /* Dashboard Tabs */
               .dashboard-tabs {
            display: flex;
            gap: 0.5rem;
            margin: 1rem 2rem;
            background: #f8f9fa;
            padding: 0.5rem;
            border-radius: 12px;
            /* Allow tabs to scroll up naturally */
        }

        .tab-btn {
            flex: 1;
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            color: #888;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn:hover {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .tab-btn.active {
            color: white;
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

                   .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
            padding: 1rem 2rem 2rem 2rem;
            /* Remove overflow and max-height - let it flow naturally in main scroll */
            overflow: visible;
            min-height: 400px;
        }

        .tab-content.active {
            display: block !important;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Opportunity Cards */
                   .opportunity-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            padding: 1rem 0;
        }

        .opportunity-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            position: relative;
            border: 2px solid transparent;
        }

        .opportunity-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            border-color: #667eea;
        }

        .opportunity-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .opportunity-badge.hackathon {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .opportunity-badge.internship {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            box-shadow: 0 4px 12px rgba(240, 147, 251, 0.3);
        }

        .opportunity-card h4 {
            font-size: 1.4rem;
            color: #333;
            margin-bottom: 1rem;
            padding-right: 110px;
            line-height: 1.3;
        }

        .opportunity-desc {
            color: #666;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .opportunity-details {
            background: linear-gradient(135deg, #f5f7fa, #e8ecf1);
            padding: 1.25rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }

        .opportunity-details p {
            margin: 0.75rem 0;
            color: #555;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
        }

        .opportunity-details strong {
            margin-right: 0.5rem;
            min-width: 100px;
        }

        .opportunity-card .btn {
            width: 100%;
            text-align: center;
            text-decoration: none;
            padding: 12px;
            font-size: 1rem;
        }

        /* Profile Info */
                  .profile-info {
            background: linear-gradient(135deg, #667eea15, #764ba215);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            min-height: 400px;
            /* Remove overflow-y: auto since tab-content handles scrolling */
        }

        .profile-info p {
            font-size: 1.15rem;
            margin: 1.25rem 0;
            color: #555;
            display: flex;
            align-items: center;
            padding: 0.75rem;
            background: white;
            border-radius: 10px;
        }

        .profile-info strong {
            color: #667eea;
            display: inline-block;
            min-width: 180px;
            font-weight: 600;
        }

        /* Submissions List */
                   .submissions-list {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 2rem;
            border-radius: 15px;
            min-height: 400px;
            /* Remove overflow-y: auto since tab-content handles scrolling */
        }
        .success-icon {
            font-size: 4rem;
            color: #4CAF50;
            margin-bottom: 1rem;
        }
     /* Force hide all modals by default */
        #loginModal,
        #signupModal,
        #dashboardModal,
        #forgotPasswordModal,
        #verificationModal {
            display: none !important;
        }
        
        #successModal,
        #errorModal {
            display: none;
        }
        
        /* Show only when has inline style display:block */
        .modal[style*="display: block"],
        .modal[style*="display:block"] {
            display: block !important;
        }

        /* Submissions Grid */
        .submissions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .submission-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            border-left: 4px solid #667eea;
            position: relative;
            transition: all 0.3s ease;
        }

        .submission-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .submission-status {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .submission-card h4 {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 0.75rem;
            padding-right: 120px;
        }

        .submission-category {
            color: #667eea;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .submission-date {
            color: #888;
            font-size: 0.85rem;
            margin-bottom: 1rem;
        }

        .submission-excerpt {
            color: #555;
            line-height: 1.6;
            font-size: 0.95rem;
        }
      /* Edit Profile Modal Styles */
.btn-secondary {
    background: #6c757d;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
}

.btn-secondary:hover {
    background: #5a6268;
}

#edit-email:disabled {
    background: #f8f9fa !important;
    color: #6c757d !important;
    border-color: #e9ecef !important;
}

.profile-info button {
    transition: all 0.3s ease;
}

.profile-info button:hover {
    transform: translateY(-1px);
}
              /* Force modal to be visible for testing */
        #editProfileModal {
            display: none; /* This will be overridden by JavaScript */
            position: fixed;
            z-index: 12000; /* Ensure above dashboard modal */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.55);
        }

        #editProfileModal .modal-content {
            z-index: 12001; /* Keep content above overlay */
        }
        
        /* Test class to force show modal */
        .modal-force-show {
            display: block !important;
        }
              /* ===== IMAGE SLIDESHOW STYLES ===== */
        .slideshow-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease-in-out, transform 1.5s ease-in-out;
            transform: scale(1.1);
        }

        .slide.active {
            opacity: 1;
            transform: scale(1);
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            filter: brightness(0.9) contrast(1.1);
        }

        /* Overlay to make text readable */
        .slideshow-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.5), rgba(118, 75, 162, 0.5), rgba(102, 126, 234, 0.4));
            z-index: 2;
            animation: gradientPulse 8s ease-in-out infinite;
        }

        @keyframes gradientPulse {
            0%, 100% {
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.5), rgba(118, 75, 162, 0.5), rgba(102, 126, 234, 0.4));
            }
            50% {
                background: linear-gradient(135deg, rgba(118, 75, 162, 0.5), rgba(102, 126, 234, 0.5), rgba(118, 75, 162, 0.4));
            }
        }

        /* Slideshow dots */
        .slideshow-dots {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 3;
        }

        .dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.4s ease;
            border: 2px solid transparent;
        }

        .dot.active {
            background: white;
            transform: scale(1.4);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        .dot:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: scale(1.3);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Update hero content positioning */
        .hero-content {
            z-index: 3;
            position: relative;
        }
              /* ===== IMPRESSIVE SCROLL ANIMATIONS ===== */
        .scroll-animation {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .scroll-animation.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Floating elements */
        .floating-element {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        /* Parallax sections */
        .parallax-section {
            position: relative;
            overflow: hidden;
        }

        .parallax-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            background-size: cover;
            background-position: center;
            transform: translateY(0);
            transition: transform 0.1s ease;
        }

        /* Gradient text animation */
        .gradient-text {
            background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #f5576c);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 8s ease infinite;
        }

        /* Card hover effects */
        .impact-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 25px;
            padding: 2.5rem;
            box-shadow: 0 15px 35px rgba(0,0,0,0.12);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .impact-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .impact-card:hover::after {
            opacity: 1;
        }

        .impact-card:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 0 25px 60px rgba(102, 126, 234, 0.35);
            border-color: #667eea;
            background: linear-gradient(135deg, #ffffff 0%, #f0f4ff 100%);
        }

        /* Progress scroll indicator */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            z-index: 10000;
            transition: width 0.1s ease;
        }

        /* Typewriter effect */
        .typewriter {
            overflow: hidden;
            border-right: 3px solid #667eea;
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #667eea }
        }

        /* ===== ENHANCED DASHBOARD STYLES ===== */
        .dashboard-profile-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 2rem;
            border-radius: 20px;
            margin: 0 2rem 2rem 2rem;
            /* Allow profile card to scroll up naturally */
        }

        .profile-card-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: center;
        }

        .profile-photo-section {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        #dashboard-profile-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid white;
            cursor: pointer;
            object-fit: cover;
        }

        .profile-info-header h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1.8rem;
        }

        .profile-growth {
            margin-top: 1rem;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.3);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .daily-motivation {
            background: rgba(255,255,255,0.1);
            padding: 1.5rem;
            border-radius: 15px;
        }

        .daily-motivation h4 {
            margin: 0 0 1rem 0;
        }

        /* Home Dashboard */
        .home-dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .activity-summary-card, .recent-activity-card, .recommended-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .activity-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid #eee;
        }

        /* Learning Section */
        .learning-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .learning-tab-btn {
            padding: 10px 20px;
            background: #f8f9fa;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .learning-tab-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .learning-section {
            display: none;
        }

        .learning-section.active {
            display: block;
        }

        .roadmap-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .roadmap-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .roadmap-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .roadmap-steps {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            color: #888;
            font-size: 0.9rem;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            position: relative;
            z-index: 1;
        }

        .course-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }
        
        .course-card:hover {
            z-index: 10;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .course-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .course-card-content {
            padding: 1.5rem;
        }

        /* Election Hub Styles */
        .election-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .election-header h3 {
            margin: 0;
            font-size: 1.8rem;
            color: #333;
        }

        .election-header-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .elections-section {
            margin-bottom: 3rem;
        }

        .elections-section h4 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: #333;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .elections-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .election-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .election-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .election-card.active {
            border-left: 4px solid #667eea;
        }

        .election-card.past {
            opacity: 0.8;
            border-left: 4px solid #888;
        }

        .election-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .election-card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin: 0 0 0.5rem 0;
        }

        .election-card-position {
            color: #667eea;
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        .election-card-description {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .election-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
            font-size: 0.85rem;
            color: #888;
        }

        .election-status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .election-status.active {
            background: #4caf50;
            color: white;
        }

        .election-status.ended {
            background: #888;
            color: white;
        }

        .election-status.upcoming {
            background: #ff9800;
            color: white;
        }

        .candidates-count {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .candidates-count i {
            color: #667eea;
        }

        .candidate-list {
            margin-top: 2rem;
        }

        .candidate-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .candidate-card:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .candidate-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .candidate-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .candidate-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .candidate-details h5 {
            margin: 0 0 0.3rem 0;
            font-size: 1.1rem;
            color: #333;
        }

        .candidate-details p {
            margin: 0;
            color: #666;
            font-size: 0.9rem;
        }

        .candidate-manifesto {
            color: #555;
            font-size: 0.9rem;
            line-height: 1.6;
            margin: 1rem 0;
        }

        .candidate-post-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #667eea;
            text-decoration: none;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        .candidate-post-link:hover {
            text-decoration: underline;
        }

        .vote-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .vote-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .vote-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .vote-button.voted {
            background: #4caf50;
        }

        .vote-count {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            color: #667eea;
        }
        
        .winner-vote-count {
            color: #ffd700;
            font-size: 1.1rem;
            font-weight: 700;
        }
        
        .winner-card {
            border: 3px solid #ffd700;
            background: linear-gradient(135deg, #fff9e6 0%, #ffffff 100%);
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
            transform: scale(1.02);
        }
        
        .winner-card::before {
            content: '';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 8rem;
            opacity: 0.1;
            transform: rotate(-15deg);
            pointer-events: none;
        }
        
        .winner-avatar {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%) !important;
            border: 3px solid #ffd700;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
            transform: scale(1.1);
        }
        
        .winner-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #333;
            padding: 0.4rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-left: 0.5rem;
            box-shadow: 0 3px 10px rgba(255, 215, 0, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 3px 10px rgba(255, 215, 0, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 5px 20px rgba(255, 215, 0, 0.6);
            }
        }

        .election-results {
            margin-top: 2rem;
        }

        .results-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .results-header h4 {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .result-stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .result-stat-card h5 {
            margin: 0 0 0.5rem 0;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .result-stat-card .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 0;
        }

        .winner-badge {
            display: inline-block;
            background: #ffd700;
            color: #333;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-left: 0.5rem;
        }

        .admin-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        /* Community Section */
        .community-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .community-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .community-tab-btn {
            padding: 10px 20px;
            background: #f8f9fa;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .community-tab-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .community-section {
            display: none;
        }

        .community-section.active {
            display: block;
        }

        .community-post {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .post-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .post-action-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #667eea;
            font-weight: 600;
        }

        /* Leaderboard */
        .leaderboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .leaderboard-podium {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 1rem;
            margin: 3rem 0;
        }

        .podium-first, .podium-second, .podium-third {
            background: white;
            padding: 2rem 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 150px;
        }

        .podium-first {
            height: 200px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: white;
        }

        .podium-second {
            height: 160px;
            background: linear-gradient(135deg, #C0C0C0, #A8A8A8);
            color: white;
        }

        .podium-third {
            height: 140px;
            background: linear-gradient(135deg, #CD7F32, #B8860B);
            color: white;
        }

        .podium-rank {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .leaderboard-list {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
        }

        .leaderboard-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }

        /* Achievements */
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .achievement-card {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .achievement-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .certificates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .certificate-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
        }

        /* Analytics */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .analytics-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .analytics-value {
            font-size: 3rem;
            font-weight: bold;
            color: #667eea;
            margin: 1rem 0;
        }

        .interests-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .interest-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 10px;
        }

        /* Notifications */
        .notifications-list {
            max-height: 500px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 1rem;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .notification-item:hover {
            background: #f8f9fa;
        }

        /* Filter Buttons */
        .filter-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        /* Profile Customization */
        .profile-content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .social-share-buttons {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }

        .referral-code-display {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .referral-code-display input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
        }

        .feedback-section {
            margin-top: 2rem;
            padding: 2rem;
            background: white;
            border-radius: 15px;
        }

        .feedback-section textarea {
            width: 100%;
            min-height: 100px;
            padding: 1rem;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            margin: 1rem 0;
        }

        /* Mentorship */
        .mentorship-sections {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .mentor-list {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .mentor-card {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .discussion-room-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .message-input {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .message-input input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
        }

        /* Global Community */
        .global-community-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        .world-map-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            min-height: 400px;
        }

        .top-users-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .profile-card-content {
                grid-template-columns: 1fr;
            }
            
            .home-dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .mentorship-sections {
                grid-template-columns: 1fr;
            }
            
            .global-community-content {
                grid-template-columns: 1fr;
            }
            
            .leaderboard-podium {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

</head>
<body>
    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="#" class="logo">Express Your Thoughts</a>
        <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#submit">Submit</a></li>
                <li><a href="#winners">Winners</a></li>
                <li><a href="#team">Team</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#rules">Rules</a></li>
                <li><a href="#social">Social</a></li>
            </ul>
            <div class="auth-buttons">
                <button class="btn-login" onclick="openLoginModal()">Login</button>
                <button class="btn-signup" onclick="openSignupModal()">Sign Up</button>
            </div>
     </nav>

        


    <!-- Hero Section -->
      <!-- Hero Section with Image Slideshow -->
    <section id="home" class="hero">
        <!-- Image Slideshow -->
        <div class="slideshow-container">
            <div class="slide active">
                <img src="dharavi1.jpeg" alt="Inspiration 1">
            </div>
            <div class="slide">
                <img src="newyork2.jpeg" alt="Inspiration 2">
            </div>
            <div class="slide">
                <img src="village3.jpeg" alt="Inspiration 3">
            </div>
            <div class="slide">
                <img src="village4.jpeg" alt="Inspiration 4">
            </div>
            <div class="slide">
                <img src="ideas5.jpeg" alt="Inspiration 5">
            </div>
            
            <!-- Slideshow dots -->
            <div class="slideshow-dots">
                <span class="dot active" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
                <span class="dot" onclick="currentSlide(4)"></span>
                <span class="dot" onclick="currentSlide(5)"></span>
            </div>
        </div>
        
        <div class="particles">
            <!-- Particles will be generated by JavaScript -->
        </div>
        <div class="hero-content">
            <h1>Express Your Thoughts</h1>
            <p class="tagline">Share Your Vision, Shape Tomorrow</p>
            <p class="description">
                Welcome to Express Your Thoughts - a platform where your future plans and innovative ideas come to life. 
                Share your thoughts about the future, your dreams, and your plans. The top 3 most inspiring submissions 
                will be rewarded with cash prizes!
            </p>
            <div class="cta-buttons">
                <a href="#submit" class="btn btn-primary">Share Your Thoughts</a>
                <a href="#about" class="btn btn-secondary">Learn More</a>
            </div>
        </div>
    </section>
    
    <!-- Testimonials Section -->
    <section class="testimonials">
        <div class="section">
            <h2>What Our Users Say</h2>
            <div class="cards">
                <div class="testimonial-card">
                    <p>I love how easy it is to share my ideas here. The community is super supportive!</p>
                    <div class="testimonial-user">
                        <div class="avatar">A</div>
                        <div>
                            <strong>Ananya</strong>
                            <div style="color:#888;font-size:0.85rem;">Student, Bengaluru</div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <p>Clean, inspiring and fun. I even won a small prize for my submission!</p>
                    <div class="testimonial-user">
                        <div class="avatar">R</div>
                        <div>
                            <strong>Rohit</strong>
                            <div style="color:#888;font-size:0.85rem;">Developer, Pune</div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <p>This platform helped me structure my thoughts and get great feedback.</p>
                    <div class="testimonial-user">
                        <div class="avatar">S</div>
                        <div>
                            <strong>Sana</strong>
                            <div style="color:#888;font-size:0.85rem;">Designer, Delhi</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
          <!-- Impressive Stats Section -->
    <section class="parallax-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 80px 0; color: white;">
        <div class="scroll-progress"></div>
        
        <div class="section">
            <h2 class="scroll-animation" style="text-align: center; font-size: 2.5rem; margin-bottom: 3rem;">
                <span class="gradient-text">Join Our Growing Community</span>
            </h2>
            
            <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2.5rem;">
                <div class="impact-card scroll-animation" style="text-align: center; background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%); backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,0.3);">
                    <div style="font-size: 4rem; margin-bottom: 1.5rem; animation: bounce 2s ease-in-out infinite;"><i class="fas fa-rocket" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i></div>
                    <h3 style="font-size: 3rem; margin-bottom: 0.5rem; color: white; font-weight: 800; text-shadow: 2px 2px 8px rgba(0,0,0,0.3);">1,000+</h3>
                    <p style="color: rgba(255,255,255,0.95); font-size: 1.2rem; font-weight: 500; text-shadow: 1px 1px 3px rgba(0,0,0,0.2);">Creative Thoughts Shared</p>
                </div>
                
                <div class="impact-card scroll-animation" style="text-align: center; background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%); backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,0.3);">
                    <div style="font-size: 4rem; margin-bottom: 1.5rem; animation: bounce 2s ease-in-out infinite 0.2s;"></div>
                    <h3 style="font-size: 3rem; margin-bottom: 0.5rem; color: white; font-weight: 800; text-shadow: 2px 2px 8px rgba(0,0,0,0.3);">50+</h3>
                    <p style="color: rgba(255,255,255,0.95); font-size: 1.2rem; font-weight: 500; text-shadow: 1px 1px 3px rgba(0,0,0,0.2);">Winners Celebrated</p>
                </div>
                
                <div class="impact-card scroll-animation" style="text-align: center; background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%); backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,0.3);">
                    <div style="font-size: 4rem; margin-bottom: 1.5rem; animation: bounce 2s ease-in-out infinite 0.4s;"><i class="fas fa-coins" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i></div>
                    <h3 style="font-size: 3rem; margin-bottom: 0.5rem; color: white; font-weight: 800; text-shadow: 2px 2px 8px rgba(0,0,0,0.3);">$5,000+</h3>
                    <p style="color: rgba(255,255,255,0.95); font-size: 1.2rem; font-weight: 500; text-shadow: 1px 1px 3px rgba(0,0,0,0.2);">Prize Money Distributed</p>
                </div>
                
                <div class="impact-card scroll-animation" style="text-align: center; background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.85) 100%); backdrop-filter: blur(10px); border: 2px solid rgba(255,255,255,0.3);">
                    <div style="font-size: 4rem; margin-bottom: 1.5rem; animation: bounce 2s ease-in-out infinite 0.6s;"></div>
                    <h3 style="font-size: 3rem; margin-bottom: 0.5rem; color: white; font-weight: 800; text-shadow: 2px 2px 8px rgba(0,0,0,0.3);">25+</h3>
                    <p style="color: rgba(255,255,255,0.95); font-size: 1.2rem; font-weight: 500; text-shadow: 1px 1px 3px rgba(0,0,0,0.2);">Countries Represented</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section with Cool Animations -->
    <section class="section" style="padding: 100px 0; background: #f8f9fa;">
        <h2 class="scroll-animation" style="text-align: center; font-size: 2.5rem; margin-bottom: 3rem;">
            Why <span class="gradient-text">Express Your Thoughts</span>?
        </h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 3rem;">
            <div class="impact-card scroll-animation">
                <div style="font-size: 4rem; text-align: center; margin-bottom: 1rem;"><i class="fas fa-lightbulb" style="background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i></div>
                <h3 style="text-align: center; color: #667eea; margin-bottom: 1rem;">Share Ideas Freely</h3>
                <p style="text-align: center; color: #666; line-height: 1.6;">
                    Express your most innovative thoughts without limitations. Your ideas deserve to be heard and celebrated.
                </p>
            </div>
            
            <div class="impact-card scroll-animation">
                <div style="font-size: 4rem; text-align: center; margin-bottom: 1rem;"><i class="fas fa-trophy" style="background: linear-gradient(135deg, #ffd89b 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i></div>
                <h3 style="text-align: center; color: #667eea; margin-bottom: 1rem;">Win Exciting Prizes</h3>
                <p style="text-align: center; color: #666; line-height: 1.6;">
                    Top 3 most inspiring thoughts win cash prizes every month. Turn your creativity into rewards!
                </p>
            </div>
            
            <div class="impact-card scroll-animation">
                <div style="font-size: 4rem; text-align: center; margin-bottom: 1rem;"></div>
                <h3 style="text-align: center; color: #667eea; margin-bottom: 1rem;">Grow Together</h3>
                <p style="text-align: center; color: #666; line-height: 1.6;">
                    Join a community of forward-thinkers and innovators. Get inspired and inspire others.
                </p>
            </div>
        </div>
    </section>

    <!-- Animated Call-to-Action -->
    <section style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 100px 0; text-align: center; color: white;">
        <div class="section">
            <h2 class="scroll-animation typewriter" style="font-size: 3rem; margin-bottom: 2rem;">
                Ready to Share Your Thoughts?
            </h2>
            <p class="scroll-animation" style="font-size: 1.3rem; margin-bottom: 3rem; opacity: 0.9;">
                Join thousands of innovators who are shaping the future with their ideas
            </p>
            <div class="scroll-animation">
                <a href="#submit" class="btn btn-primary" style="background: white; color: #f5576c; font-size: 1.2rem; padding: 15px 40px;">
                    Start Sharing Now <i class="fas fa-rocket" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Submission Section -->
    <section id="submit" class="section">
        <h2>Submit Your Thoughts</h2>
        <div class="form-container">
 <form id="thoughtForm" action="https://api.web3forms.com/submit" method="POST">
    <!-- Web3Forms Access Key -->
    <input type="hidden" name="access_key" value="498e3586-a0c2-4658-8459-522d68585558">
    <input type="hidden" name="subject" value="New Thought Submission - Express Your Thoughts Contest">
    <input type="hidden" name="from_name" value="Express Your Thoughts">
    
    <div class="form-group">
        <label for="name">Your Name *</label>
        <input type="text" id="name" name="name" required>
    </div>
    
    <div class="form-group">
        <label for="email">Email Address *</label>
        <input type="email" id="email" name="email" required>
    </div>
    
    <div class="form-group">
        <label for="category">Category *</label>
        <select id="category" name="category" required>
            <option value="">Select a category</option>
            <option value="future-technology">Future Technology</option>
            <option value="social-impact">Social Impact</option>
            <option value="environmental">Environmental Solutions</option>
            <option value="personal-growth">Personal Growth</option>
            <option value="business-innovation">Business Innovation</option>
            <option value="education">Education & Learning</option>
            <option value="other">Other</option>
        </select>
    </div>
    
    <div class="form-group">
        <label for="title">Title of Your Thought *</label>
        <input type="text" id="title" name="title" required placeholder="Give your idea a compelling title">
    </div>
    
    <div class="form-group">
        <label for="thoughts">Your Thoughts & Future Plans *</label>
        <textarea id="thoughts" name="message" required 
                  placeholder="Share your vision, ideas, and plans for the future. Be creative, be bold, be inspiring! What do you see happening? What would you like to create or achieve?"></textarea>
    </div>
    
    <div class="form-group">
        <label for="impact">Expected Impact</label>
        <textarea id="impact" name="impact" 
                  placeholder="How do you think your idea could impact the world or your community?"></textarea>
    </div>
    
    <!-- Anti-spam -->
    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
    <input type="hidden" name="redirect" value="https://expressyourthoughts.live#success">
    
    <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
        Submit My Thoughts 
    </button>
     

</form>
        </div>
    </section>

    <!-- Contest Rules -->
    <section id="rules" class="rules">
        <div class="section">
            <h2 style="color: white;">Contest Rules & Prizes (50$) </h2>
            <div class="rules-grid">
                <div class="rule-card">
                    <div class="icon"><i class="fas fa-trophy"></i></div>
                    <h3>Top 3 Winners</h3>
                    <p>The most innovative and inspiring thoughts will be selected as winners and receive cash prizes.1st Winner will Get 30$ Prize Money.</p>
                </div>
                <div class="rule-card">
                    <div class="icon"><i class="fas fa-lightbulb"></i></div>
                    <h3>Originality</h3>
                    <p>Your thoughts should be original, creative, and showcase your unique perspective on the future.</p>
                </div>
                <div class="rule-card">
                    <div class="icon"></div>
                    <h3>Quality Matters</h3>
                    <p>Well-thought-out submissions with clear vision and potential impact have better chances of winning.</p>
                </div>
                <div class="rule-card">
                    <div class="icon"></div>
                    <h3>Regular Contests</h3>
                    <p>Upcoming Contest : 26 October to 30 October. Winners will be announced on 30 October. Follow our social media to stay updated on deadlines..</p>
                </div>
            </div>
        </div>
    </section>
<!-- About Me Section -->
    <section id="about" class="section about-me-section">
        <h2>About Me</h2>
        
        <div class="about-me-container">
            <!-- My Photo -->
            <div class="about-me-photo">
                <img src="main-pic.jpg" alt="Dileep Choudhary">
                <div class="photo-caption">Dileep Choudhary</div>
            </div>
            
            <!-- About Me Text -->
            <div class="about-me-text">
                <h3>Welcome to Express Your Thoughts!</h3>
                <p>
                    Hello! I'm <strong>Dileep Choudhary</strong>, the founder of Express Your Thoughts. 
                    I believe that everyone has unique ideas and visions that deserve to be heard and celebrated.
                </p>
                <p>
                    This platform was born from my passion for innovation and my desire to create a space 
                    where creative minds can share their thoughts about the future, inspire others, and be 
                    rewarded for their brilliance.
                </p>
                <p>
                    Through this contest platform, I aim to discover and support the next generation of 
                    thinkers, innovators, and changemakers. Your ideas have the power to shape tomorrow, 
                    and I'm here to help amplify your voice.
                </p>
                <p>
                    <strong>My Mission:</strong> To create a community where thoughts matter, creativity thrives, 
                    and great ideas are recognized and rewarded.
                </p>
                <div class="about-me-contact">
                    <p><strong><i class="fas fa-envelope"></i> Email:</strong> choudharydileep990@gmail.com</p>
                    <p><strong><i class="fas fa-globe"></i> Website:</strong> expressyourthoughts.live</p>
                </div>
            </div>
        </div>

        <!-- Photo Gallery -->
        <div class="photo-gallery-section">
            <h3 style="text-align: center; font-size: 2rem; margin-bottom: 2rem; color: #667eea;">
                 My Journey
            </h3>
            
            <div class="photo-gallery">
                <!-- Photo 1 -->
                <div class="gallery-item">
                    <img src="win.cer.jpg" alt="Gallery Photo 1">
                    <div class="gallery-caption">Certificates</div>
                </div>
                
                <!-- Photo 2 -->
                <div class="gallery-item">
                    <img src="journey.jpg" alt="Gallery Photo 2">
                    <div class="gallery-caption">Community Events</div>
                </div>
                
                <!-- Photo 3 -->
                <div class="gallery-item">
                    <img src="journey2.jpg" alt="Gallery Photo 3">
                    <div class="gallery-caption">Innovation Sessions</div>
                </div>
                
                <!-- Photo 4 -->
                <div class="gallery-item">
                    <img src="journey3.webp" alt="Gallery Photo 4">
                    <div class="gallery-caption">Meeting Winners</div>
                </div>
                
                <!-- Photo 5 -->
                <div class="gallery-item">
                    <img src="journey4.jpeg" alt="Gallery Photo 5">
                    <div class="gallery-caption">Creative Workspace</div>
                </div>
                
                <!-- Photo 6 -->
                <div class="gallery-item">
                    <img src="hmeetyourfuture.jpg" alt="Gallery Photo 6">
                    <div class="gallery-caption">Behind the Scenes</div>
                </div>
            </div>
        </div>
        
        <!-- Update Instructions (HTML comment - won't show on website) -->
        <!--
        TO UPDATE YOUR PROFILE:
        1. Replace main photo: Change "https://via.placeholder.com/400x400..." to your photo URL
        2. Update text: Edit the paragraphs to tell your story
        3. Update email and website if needed
        
        TO UPDATE PHOTO GALLERY:
        1. Upload your photos to GitHub (create "images" folder)
        2. Replace placeholder URLs with: "images/photo1.jpg", "images/photo2.jpg", etc.
        3. Update gallery captions to describe each photo
        4. Add more photos by copying a gallery-item div
        -->
    </section>
<!-- Winners Gallery Section -->
    <section id="winners" class="section">
        <h2><i class="fas fa-trophy"></i> Our Winners</h2>
        <p style="text-align: center; font-size: 1.1rem; color: #666; margin-bottom: 3rem;">
            Celebrating the most inspiring thoughts and innovative ideas from our community!
        </p>
        
        <!-- Contest Month/Year Title -->
        <div class="contest-title">
            <h3>Contest: October 2025</h3>
        </div>
        
        <!-- Winners Grid -->
        <div class="winners-grid">
            <!-- Winner 1 - First Place -->
            <div class="winner-card winner-first">
                <div class="winner-badge"> 1st Place</div>
                <div class="winner-image">
                    <img src="pavan.jpg" alt="Winner 1">
                    <img src="win.cer.jpg" alt="Winner 1">
                </div>
                <div class="winner-content">
                    <h3 class="winner-name">Pavan Kumar P</h3>
                    <p class="winner-title">"AI-Powered Education for Rural Areas"</p>
                    <p class="winner-category">Category: Future Technology</p>
                    <p class="winner-description">
                        Pavan's innovative idea proposes using AI-driven mobile apps to bring quality education 
                        to remote villages. His vision includes offline-capable learning modules and voice-based 
                        interfaces in local languages, making education accessible to millions.
                    </p>
                    <div class="winner-prize">Prize: 30$</div>
                </div>
            </div>

            <!-- Winner 2 - Second Place -->
            <div class="winner-card winner-second">
                <div class="winner-badge"> 2nd Place</div>
                <div class="winner-image">
                    <img src="maria2.jpg" alt="Winner 2">
                </div>
                <div class="winner-content">
                    <h3 class="winner-name">Chandana </h3>
                    <p class="winner-title">"Community Gardens for Urban Sustainability"</p>
                    <p class="winner-category">Category: Environmental Solutions</p>
                    <p class="winner-description">
                        Chandana's thoughtful plan focuses on transforming unused urban spaces into community 
                        gardens. Her approach combines sustainable farming, community building, and food 
                        security to create greener, more connected cities.
                    </p>
                    <div class="winner-prize">Prize: 15$</div>
                </div>
            </div>

            <!-- Winner 3 - Third Place -->
            <div class="winner-card winner-third">
                <div class="winner-badge"> 3rd Place</div>
                <div class="winner-image">
                    <img src="naveen1.jpg" alt="Winner 3">
                </div>
                <div class="winner-content">
                    <h3 class="winner-name">Naveen Malatesh Kori  </h3>
                    <p class="winner-title">"Mental Health App for Students"</p>
                    <p class="winner-category">Category: Personal Growth</p>
                    <p class="winner-description">
                        Naveen's compassionate idea addresses student mental health through a supportive app 
                        offering peer connections, mindfulness exercises, and anonymous counseling. His vision 
                        helps students navigate academic stress with confidence and support.
                    </p>
                    <div class="winner-prize">Prize: 5$</div>
                </div>
            </div>
        </div>
    </section>
    <!-- Meet My Team Section -->
    <section id="team" class="section team-section">
        <h2> Meet My Team</h2>
        <p style="text-align: center; font-size: 1.1rem; color: #666; margin-bottom: 3rem;">
            The amazing people behind Express Your Thoughts who make it all possible!
        </p>
        
        <div class="team-grid">
            <!-- Team Member 1 -->
            <div class="team-member">
                <div class="team-photo">
                    <img src="Dileep.ceo.jpg" alt="Team Member 1">
                </div>
                <div class="team-info">
                    <h3 class="team-name">Dileep Choudhary</h3>
                    <p class="team-position">Founder & CEO</p>
                    <p class="team-description">
                        Leads the vision and strategy of Express Your Thoughts with passion for innovation.
                    </p>
                </div>
            </div>

            <!-- Team Member 2 -->
            <div class="team-member">
                <div class="team-photo">
                    <img src="Alena_creative.d.jpg" alt="Team Member 2">
                </div>
                <div class="team-info">
                    <h3 class="team-name">Alena Alekseevna</h3>
                    <p class="team-position">Creative Director</p>
                    <p class="team-description">
                        Brings creativity and design expertise to make every idea shine beautifully.
                    </p>
                </div>
            </div>

            <!-- Team Member 3 -->
            <div class="team-member">
                <div class="team-photo">
                    <img src="ruslan.jpg" alt="Team Member 3">
                </div>
                <div class="team-info">
                    <h3 class="team-name">Ruslan Savenko</h3>
                    <p class="team-position">Thoughts Review Manager & Team Leader</p>
                    <p class="team-description">
                        Review the Thoughts and  Ensures our platform winners 
                    </p>
                </div>
            </div>

            <!-- Team Member 4 -->
            <div class="team-member">
                <div class="team-photo">
                    <img src="alina.jpg" alt="Team Member 4">
                </div>
                <div class="team-info">
                    <h3 class="team-name">Alina Ryabova</h3>
                    <p class="team-position">Community Manager</p>
                    <p class="team-description">
                        Connects with our community and ensures everyone feels heard and valued.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Update Instructions (HTML comment - won't show on website) -->
        <!--
        TO UPDATE TEAM MEMBERS:
        1. Upload team photos to "images" folder (e.g., team1.jpg, team2.jpg, etc.)
        2. Replace placeholder URLs with: "images/team1.jpg", etc.
        3. Update team member names
        4. Update their positions/titles
        5. Update descriptions about each team member
        
        Photo size recommendation: 250x250 pixels (square)
        -->
    </section>
    <!-- Math Puzzle Game Section -->
    <section class="math-puzzle-section">
        <div class="section">
            <h2> Fun Math Challenge</h2>
            <p style="text-align: center; color: #666; margin-bottom: 2rem;">Test your math skills and have fun!</p>
            <div class="puzzle-container">
                <div class="puzzle-score">Score: <span id="puzzle-score">0</span></div>
                <div class="puzzle-question" id="puzzle-question">Loading question...</div>
                <div class="puzzle-options" id="puzzle-options">
                    <!-- Options will be populated by JavaScript -->
                </div>
                <div class="puzzle-controls">
                    <button class="btn btn-primary" onclick="generateNewPuzzle()">New Question</button>
                    <button class="btn btn-secondary" onclick="resetPuzzleScore()" style="margin-left: 1rem;">Reset Score</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Social Media Section -->
    <section id="social" class="social-section section">
        <h2>Follow Us & Stay Connected</h2>
        <p>Join our community on social media for updates, winner announcements, and inspiration!</p>
       <div class="social-links">
  <a href="https://www.facebook.com/" class="social-link" title="Facebook" target="_blank">
    <i class="fab fa-facebook"></i>
  </a>
  <a href="https://twitter.com/" class="social-link" title="Twitter" target="_blank">
    <i class="fab fa-twitter"></i>
  </a>
  <a href="https://www.instagram.com/" class="social-link" title="Instagram" target="_blank">
    <i class="fab fa-instagram"></i>
  </a>
  <a href="https://www.linkedin.com/in/dileep-choudhary-a01699270" class="social-link" title="LinkedIn" target="_blank">
    <i class="fab fa-linkedin"></i>
  </a>
  <a href="https://www.youtube.com/" class="social-link" title="YouTube" target="_blank">
    <i class="fab fa-youtube"></i>
  </a>
</div>

        <p style="margin-top: 2rem; color: #666;">
            <strong>Don't forget to follow us to stay updated on contest announcements and winner reveals!</strong>
        </p>
    </section>

    <!-- Footer -->
    <footer>
        <div class="section" style="padding: 2rem 0;">
            <p>&copy; 2025 Express Your Thoughts. All rights reserved.</p>
            <p>Empowering minds, inspiring futures.</p>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="success-icon"><i class="fas fa-check-circle" style="color: #4caf50; font-size: 3rem;"></i></div>
            <h2>Thank You!</h2>
            <p>Your thoughts have been submitted successfully! We've sent you a confirmation email.</p>
            <p>Your submission will be carefully reviewed for our contest, and the top 3 winners will be announced on our social media platforms.</p>
            <p><strong>Good luck! </strong></p>
            <div style="margin-top: 1rem;">
                <small>Don't forget to follow our social media for winner announcements!</small>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div style="font-size: 4rem; color: #f44336; margin-bottom: 1rem;"></div>
            <h2>Oops!</h2>
            <p>There was an error submitting your thoughts. Please check your internet connection and try again.</p>
            <p>If the problem persists, you can email us directly at:</p>
            <p><strong>dileepchoudhary1008@gmail.com</strong></p>
            <button onclick="this.parentElement.parentElement.style.display='none'" 
                    class="btn btn-primary" style="margin-top: 1rem;">
                Try Again
            </button>
        </div>
    </div>
  <!-- Login Modal -->
    <div id="loginModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeLoginModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-rocket"></i></div>
                <h2>Welcome Back!</h2>
                <p>Login to access your dashboard and opportunities</p>
            </div>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="login-email">
                        <span class="label-icon"><i class="fas fa-envelope"></i></span> Email Address
                    </label>
                    <input type="email" id="login-email" required placeholder="your@email.com" autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="login-password">
                        <span class="label-icon"></span> Password
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="login-password" required placeholder="Enter your password" autocomplete="current-password">
                        <button type="button" class="toggle-password" onclick="togglePassword('login-password')"></button>
                    </div>
                </div>
                <div class="form-options">
                    <label class="remember-me">
                        <input type="checkbox" id="remember-me"> Remember me
                    </label>
                    <a href="#" onclick="openForgotPassword()" class="forgot-password">Forgot password?</a>
                </div>
                <button type="submit" class="btn btn-primary btn-auth">
                    <span class="btn-text">Login</span>
                    <span class="btn-loading" style="display: none;"> Logging in...</span>
                </button>
                <div class="divider">
                    <span>OR</span>
                </div>
                <button type="button" class="btn btn-google" onclick="loginWithGoogle()">
                    <span class="google-icon">G</span> Continue with Google
                </button>
                <p style="text-align: center; margin-top: 1.5rem; color: #666;">
                    Don't have an account? <a href="#" onclick="switchToSignup()" style="color: #667eea; font-weight: bold;">Sign Up Free</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeSignupModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"></div>
                <h2>Join Express Your Thoughts</h2>
                <p>Create your free account and start your journey</p>
            </div>
            <form id="signupForm" onsubmit="handleSignup(event)">
                <div class="form-group">
                    <label for="signup-name">
                        <span class="label-icon"><i class="fas fa-user"></i></span> Full Name
                    </label>
                    <input type="text" id="signup-name" required placeholder="John Doe" autocomplete="name">
                </div>
                <div class="form-group">
                    <label for="signup-email">
                        <span class="label-icon"><i class="fas fa-envelope"></i></span> Email Address
                    </label>
                    <input type="email" id="signup-email" required placeholder="your@email.com" autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="signup-phone">
                        <span class="label-icon"><i class="fas fa-phone"></i></span> Phone Number (Optional)
                    </label>
                    <input type="tel" id="signup-phone" placeholder="+91 98765 43210" autocomplete="tel">
                </div>
                <div class="form-group">
                    <label for="signup-password">
                        <span class="label-icon"></span> Password
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="signup-password" required placeholder="Create a strong password" minlength="8" autocomplete="new-password">
                        <button type="button" class="toggle-password" onclick="togglePassword('signup-password')"></button>
                    </div>
                    <div class="password-strength" id="password-strength">
                        <div class="strength-bar"></div>
                    </div>
                    <small class="password-hint">Use 8+ characters with letters, numbers & symbols</small>
                </div>
                <div class="form-group">
                    <label for="signup-confirm">
                        <span class="label-icon"></span> Confirm Password
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="signup-confirm" required placeholder="Confirm your password" autocomplete="new-password">
                        <button type="button" class="toggle-password" onclick="togglePassword('signup-confirm')"></button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="terms-accept" required>
                        <span>I agree to the <a href="#" onclick="showTerms()" style="color: #667eea;">Terms & Conditions</a> and <a href="#" onclick="showPrivacy()" style="color: #667eea;">Privacy Policy</a></span>
                    </label>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="newsletter-accept">
                        <span>Send me updates about new contests and opportunities</span>
                    </label>
                </div>
                <button type="submit" class="btn btn-primary btn-auth">
                    <span class="btn-text">Create Account</span>
                    <span class="btn-loading" style="display: none;"> Creating account...</span>
                </button>
                <div class="divider">
                    <span>OR</span>
                </div>
                <button type="button" class="btn btn-google" onclick="signupWithGoogle()">
                    <span class="google-icon">G</span> Sign up with Google
                </button>
                <p style="text-align: center; margin-top: 1.5rem; color: #666;">
                    Already have an account? <a href="#" onclick="switchToLogin()" style="color: #667eea; font-weight: bold;">Login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeForgotPassword()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"></div>
                <h2>Reset Your Password</h2>
                <p>Enter your email and we'll send you reset instructions</p>
            </div>
            <form id="forgotPasswordForm" onsubmit="handleForgotPassword(event)">
                <div class="form-group">
                    <label for="forgot-email">
                        <span class="label-icon"><i class="fas fa-envelope"></i></span> Email Address
                    </label>
                    <input type="email" id="forgot-email" required placeholder="your@email.com" autocomplete="email">
                </div>
                <button type="submit" class="btn btn-primary btn-auth">
                    <span class="btn-text">Send Reset Link</span>
                    <span class="btn-loading" style="display: none;"> Sending...</span>
                </button>
                <p style="text-align: center; margin-top: 1.5rem; color: #666;">
                    <a href="#" onclick="backToLogin()" style="color: #667eea; font-weight: bold;"> Back to Login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Email Verification Notice -->
    <div id="verificationModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeVerification()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-envelope"></i></div>
                <h2>Verify Your Email</h2>
                <p>We've sent a verification link to your email</p>
            </div>
            <div style="padding: 2rem; text-align: center;">
                <div style="font-size: 4rem; margin-bottom: 1rem;"></div>
                <p style="font-size: 1.1rem; color: #555; line-height: 1.8; margin-bottom: 1.5rem;">
                    Please check your inbox at <strong id="verification-email">your@email.com</strong> 
                    and click the verification link to activate your account.
                </p>
                <p style="color: #888; font-size: 0.95rem; margin-bottom: 1.5rem;">
                    Didn't receive the email? Check your spam folder or click below to resend.
                </p>
                <button class="btn btn-primary" onclick="resendVerificationEmail()">
                    Resend Verification Email
                </button>
                <p style="margin-top: 1.5rem;">
                    <a href="#" onclick="closeVerification()" style="color: #667eea;">I'll verify later</a>
                </p>
            </div>
        </div>
    </div>
    <!-- Payment Modal -->
    <div id="paymentModal" class="modal auth-modal payment-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"></div>
                <h2>Enroll in Exclusive Content</h2>
                <p>Access premium courses, videos, and resources</p>
            </div>
            <div class="payment-form">
                <div class="price-display">$1.00</div>
                <p style="text-align: center; color: #666; margin-bottom: 2rem;">
                    One-time payment for lifetime access to exclusive content
                </p>
                <form id="paymentForm" onsubmit="processPayment(event)">
                    <div class="form-group">
                        <label for="card-name">Cardholder Name *</label>
                        <input type="text" id="card-name" required placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label for="card-number">Card Number *</label>
                        <input type="text" id="card-number" required placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label for="card-expiry">Expiry Date *</label>
                            <input type="text" id="card-expiry" required placeholder="MM/YY" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label for="card-cvv">CVV *</label>
                            <input type="text" id="card-cvv" required placeholder="123" maxlength="4">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="payment-terms" required>
                            <span>I agree to the payment terms and refund policy</span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-auth">
                        <span class="btn-text">Pay $1.00 & Enroll</span>
                        <span class="btn-loading" style="display: none;"> Processing...</span>
                    </button>
                    <p style="text-align: center; margin-top: 1rem; color: #888; font-size: 0.85rem;">
                         Secure payment processing<br>
                        <small>Note: For now, this is a demo. To connect real payments, see instructions below.</small>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeEditProfile()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-user"></i></div>
                <h2>Edit Your Profile</h2>
                <p>Update your personal information</p>
            </div>
            <form id="editProfileForm" onsubmit="handleProfileUpdate(event)">
                <div class="form-group">
                    <label for="edit-name">
                        <span class="label-icon"><i class="fas fa-user"></i></span> Full Name
                    </label>
                    <input type="text" id="edit-name" required placeholder="Your full name" autocomplete="name">
                </div>
                
                <div class="form-group">
                    <label for="edit-bio">
                        <span class="label-icon"><i class="fas fa-edit"></i></span> Bio
                    </label>
                    <textarea id="edit-bio" placeholder="Tell us about yourself..." rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="edit-skills">
                        <span class="label-icon"><i class="fas fa-briefcase"></i></span> Skills (comma separated)
                    </label>
                    <input type="text" id="edit-skills" placeholder="JavaScript, Python, React, etc.">
                </div>
                
                <div class="form-group">
                    <label for="edit-domain">
                        <span class="label-icon"><i class="fas fa-bullseye"></i></span> Preferred Domain
                    </label>
                    <select id="edit-domain">
                        <option value="">Select domain</option>
                        <option value="tech">Tech</option>
                        <option value="design">Design</option>
                        <option value="marketing">Marketing</option>
                        <option value="data-science">Data Science</option>
                        <option value="mobile">Mobile Development</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="edit-phone">
                        <span class="label-icon"><i class="fas fa-phone"></i></span> Phone Number (Optional)
                    </label>
                    <input type="tel" id="edit-phone" placeholder="+91 98765 43210" autocomplete="tel">
                </div>
                
                <div class="form-group">
                    <label for="edit-email">
                        <span class="label-icon"><i class="fas fa-envelope"></i></span> Email Address
                    </label>
                    <input type="email" id="edit-email" disabled style="background: #f5f5f5; color: #666;">
                    <small style="color: #888;">Email cannot be changed</small>
                </div>
                
                <button type="submit" class="btn btn-primary btn-auth">
                    <span class="btn-text">Update Profile</span>
                    <span class="btn-loading" style="display: none;"> Updating...</span>
                </button>
                
                <button type="button" class="btn btn-secondary" onclick="closeEditProfile()" style="margin-top: 1rem; width: 100%;">
                    Cancel
                </button>
            </form>
        </div>
    </div>

    <!-- Notifications Modal -->
    <div id="notificationsModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeNotifications()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"></div>
                <h2>Notifications</h2>
            </div>
            <div class="notifications-list" id="notifications-list">
                <!-- Notifications will be loaded here -->
            </div>
        </div>
    </div>

    <!-- New Post Modal -->
    <div id="newPostModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeNewPostModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-lightbulb"></i></div>
                <h2>Share Your Thought</h2>
            </div>
            <form id="newPostForm" onsubmit="submitNewPost(event)">
                <div class="form-group">
                    <label for="post-title">Title</label>
                    <input type="text" id="post-title" required placeholder="Give your thought a title">
                </div>
                <div class="form-group">
                    <label for="post-content">Your Thought</label>
                    <textarea id="post-content" required rows="6" placeholder="Share your idea, thought, or question..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-auth">Post</button>
            </form>
        </div>
    </div>

    <!-- Ask Mentor Modal -->
    <div id="askMentorModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeAskMentorModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-handshake"></i></div>
                <h2>Ask a Mentor</h2>
                <p>Book a 15-minute chat with our team</p>
            </div>
            <form id="askMentorForm" onsubmit="submitMentorRequest(event)">
                <div class="form-group">
                    <label for="mentor-select">Select Mentor</label>
                    <select id="mentor-select" required>
                        <option value="">Choose a mentor</option>
                        <option value="dileep">Dileep Choudhary - Founder & CEO</option>
                        <option value="alena">Alena Alekseevna - Creative Director</option>
                        <option value="ruslan">Ruslan Savenko - Team Leader</option>
                        <option value="alina">Alina Ryabova - Community Manager</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="mentor-message">Your Question</label>
                    <textarea id="mentor-message" required rows="4" placeholder="What would you like to ask?"></textarea>
                </div>
                <div class="form-group">
                    <label for="mentor-date">Preferred Date</label>
                    <input type="date" id="mentor-date" required>
                </div>
                <button type="submit" class="btn btn-primary btn-auth">Send Request</button>
            </form>
        </div>
    </div>

    <!-- Roadmap Modal -->
    <div id="roadmapModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content" style="max-width: 800px;">
            <span class="close" onclick="closeRoadmapModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"></div>
                <h2 id="roadmap-title">Career Roadmap</h2>
            </div>
            <div class="roadmap-content" id="roadmap-content">
                <!-- Roadmap steps will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Global Community Modal -->
    <div id="globalCommunityModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content" style="max-width: 900px;">
            <span class="close" onclick="closeGlobalCommunityModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"></div>
                <h2>Global Community</h2>
                <p>Users from around the world</p>
            </div>
            <div class="global-community-content">
                <div class="world-map-section" id="world-map">
                    <!-- World map will be rendered here -->
                </div>
                <div class="top-users-section">
                    <h3> Top Users of the Month</h3>
                    <div id="top-users-list">
                        <!-- Top users will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- User Dashboard Modal -->
    <div id="dashboardModal" class="modal dashboard-modal">
        <div class="modal-content dashboard-modal-content">
            <span class="close" onclick="closeDashboard()">&times;</span>
            
                       <div class="dashboard-header">
                <h2 style="font-size: 2rem;"><i class="fas fa-bullseye"></i> Welcome, <span id="dashboard-username">User</span>!</h2>
                <div style="display: flex; gap: 1rem; align-items: center;">
                    <button class="btn-login" onclick="minimizeDashboard()" style="padding: 10px 20px;">
                        Minimize
                    </button>
                    <button class="btn-logout" onclick="handleLogout()">Logout</button>
                </div>
            </div>
            <!-- Personalized Dashboard Header -->
            <div class="dashboard-profile-card">
                <div class="profile-card-content">
                    <div class="profile-photo-section">
                        <img id="dashboard-profile-photo" src="https://via.placeholder.com/120/667eea/ffffff?text=User" alt="Profile" onclick="triggerPhotoUpload()">
                        <input type="file" id="photo-upload" accept="image/*" style="display: none;" onchange="uploadProfilePhoto(event)">
                        <div class="profile-info-header">
                            <h3 id="dashboard-username-full">User</h3>
                            <p id="dashboard-user-bio">No bio yet. Click edit to add one!</p>
                            <div class="profile-growth">
                                <span>Your Growth: <strong id="user-growth-percent">0%</strong></span>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="growth-progress-bar"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="daily-motivation">
                        <h4><i class="fas fa-lightbulb"></i> Daily Motivation</h4>
                        <p id="daily-quote">Loading your daily inspiration...</p>
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-edit"></i></div>
                    <div>
                        <div class="stat-value" id="stat-submissions">0</div>
                        <div class="stat-label">Submissions</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-star"></i></div>
                    <div>
                        <div class="stat-value" id="stat-points">0</div>
                        <div class="stat-label">Points</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-graduation-cap"></i></div>
                    <div>
                        <div class="stat-value" id="stat-courses">0</div>
                        <div class="stat-label">Courses</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-trophy"></i></div>
                    <div>
                        <div class="stat-value" id="stat-achievements">0</div>
                        <div class="stat-label">Achievements</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-calendar"></i></div>
                    <div>
                        <div class="stat-value" id="stat-joined"></div>
                        <div class="stat-label">Member Since</div>
                    </div>
                </div>
                <div class="stat-card" onclick="openNotifications()" style="cursor: pointer;">
                    <div class="stat-icon"><i class="fas fa-bell"></i></div>
                    <div>
                        <div class="stat-value" id="stat-notifications">0</div>
                        <div class="stat-label">Notifications</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Tabs -->
            <div class="dashboard-tabs">
                <button class="tab-btn active" onclick="showTab('home')"><i class="fas fa-home"></i> Home</button>
                <button class="tab-btn" onclick="showTab('learning')"><i class="fas fa-graduation-cap"></i> Learning</button>
                <button class="tab-btn" onclick="showTab('opportunities')"><i class="fas fa-rocket"></i> Opportunities</button>
                <button class="tab-btn" onclick="showTab('community')"><i class="fas fa-comments"></i> Community</button>
                <button class="tab-btn" onclick="showTab('leaderboard')"><i class="fas fa-trophy"></i> Leaderboard</button>
                <button class="tab-btn" onclick="showTab('achievements')"><i class="fas fa-medal"></i> Achievements</button>
                <button class="tab-btn" onclick="showTab('exclusive')"><i class="fas fa-star"></i> Premium</button>
                <button class="tab-btn" onclick="showTab('mentorship')"><i class="fas fa-handshake"></i> Mentorship</button>
                <button class="tab-btn" onclick="showTab('analytics')"><i class="fas fa-chart-bar"></i> Analytics</button>
                <button class="tab-btn" onclick="showTab('elections')"><i class="fas fa-vote-yea"></i> Election Hub</button>
                <button class="tab-btn" onclick="showTab('profile')"><i class="fas fa-user"></i> Profile</button>
            </div>

            <!-- Home Tab -->
            <div id="home-tab" class="tab-content active">
                <div class="home-dashboard-grid">
                    <div class="activity-summary-card">
                        <h3><i class="fas fa-chart-bar"></i> Activity Summary</h3>
                        <div class="activity-item">
                            <span>Thoughts Submitted:</span>
                            <strong id="home-submissions-count">0</strong>
                        </div>
                        <div class="activity-item">
                            <span>Courses Joined:</span>
                            <strong id="home-courses-count">0</strong>
                        </div>
                        <div class="activity-item">
                            <span>Points Earned:</span>
                            <strong id="home-points-count">0</strong>
                        </div>
                        <div class="activity-item">
                            <span>Hours Learning:</span>
                            <strong id="home-hours-count">0h</strong>
                        </div>
                    </div>
                    <div class="recent-activity-card">
                        <h3><i class="fas fa-edit"></i> Recent Activity</h3>
                        <div id="recent-activity-list">
                            <p style="text-align: center; color: #888;">No recent activity</p>
                        </div>
                    </div>
                    <div class="recommended-card">
                        <h3><i class="fas fa-bullseye"></i> Recommended for You</h3>
                        <div id="recommended-content">
                            <p style="text-align: center; color: #888;">Loading recommendations...</p>
                        </div>
                    </div>
                    <div class="global-community-card" style="background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                        <h3> Global Community</h3>
                        <p>See users from around the world</p>
                        <button class="btn btn-primary" onclick="openGlobalCommunity()">View Global Community</button>
                    </div>
                </div>
            </div>

            <!-- Learning Tab -->
            <div id="learning-tab" class="tab-content">
                <div class="learning-tabs">
                    <button class="learning-tab-btn active" onclick="showLearningTab('roadmaps')"><i class="fas fa-map"></i> Career Roadmaps</button>
                    <button class="learning-tab-btn" onclick="showLearningTab('courses')"><i class="fas fa-book"></i> Courses</button>
                    <button class="learning-tab-btn" onclick="showLearningTab('mentors')"><i class="fas fa-chalkboard-teacher"></i> Learn with Mentors</button>
                    <button class="learning-tab-btn" onclick="showLearningTab('my-courses')"><i class="fas fa-book-open"></i> My Courses</button>
                </div>
                
                <div id="roadmaps-section" class="learning-section active">
                    <h3>Career Roadmaps</h3>
                    <div class="roadmap-cards">
                        <div class="roadmap-card" onclick="openRoadmap('web-developer')">
                            <h4><i class="fas fa-globe"></i> Web Developer</h4>
                            <p>Complete roadmap from beginner to advanced</p>
                            <div class="roadmap-steps">
                                <span>5 Steps</span>
                                <span></span>
                                <span>20 Resources</span>
                            </div>
                        </div>
                        <div class="roadmap-card" onclick="openRoadmap('data-scientist')">
                            <h4><i class="fas fa-chart-bar"></i> Data Scientist</h4>
                            <p>Master data science and machine learning</p>
                            <div class="roadmap-steps">
                                <span>7 Steps</span>
                                <span></span>
                                <span>30 Resources</span>
                            </div>
                        </div>
                        <div class="roadmap-card" onclick="openRoadmap('mobile-developer')">
                            <h4><i class="fas fa-mobile-alt"></i> Mobile Developer</h4>
                            <p>Build iOS and Android applications</p>
                            <div class="roadmap-steps">
                                <span>6 Steps</span>
                                <span></span>
                                <span>25 Resources</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="courses-section" class="learning-section">
                    <h3>Available Courses</h3>
                    <div class="course-grid" id="courses-grid">
                        <!-- Courses will be loaded here -->
                    </div>
                </div>
                
                <div id="mentors-section" class="learning-section">
                    <h3>Learn with Mentors</h3>
                    <div class="mentor-videos-grid" id="mentor-videos">
                        <!-- Mentor videos will be loaded here -->
                    </div>
                </div>
                
                <div id="my-courses-section" class="learning-section">
                    <h3>My Courses</h3>
                    <div id="my-courses-list">
                        <p style="text-align: center; color: #888;">You haven't enrolled in any courses yet.</p>
                    </div>
                </div>
            </div>

            <!-- Opportunities Tab -->
            <div id="opportunities-tab" class="tab-content">
                <div class="opportunities-header">
                    <h3><i class="fas fa-rocket"></i> Hackathons & Internships</h3>
                    <div class="filter-buttons">
                        <button class="filter-btn active" onclick="filterOpportunities('all')">All</button>
                        <button class="filter-btn" onclick="filterOpportunities('hackathon')">Hackathons</button>
                        <button class="filter-btn" onclick="filterOpportunities('internship')">Internships</button>
                        <button class="filter-btn" onclick="filterOpportunities('recommended')">Recommended for You</button>
                    </div>
                </div>
                
                <div class="opportunity-cards" id="opportunities-list">
                    <!-- Hackathon 1 -->
                    <div class="opportunity-card" data-type="hackathon">
                        <div class="opportunity-badge hackathon">Hackathon</div>
                        <h4>Tech Innovation Challenge 2025</h4>
                        <p class="opportunity-desc">Build innovative solutions for real-world problems. Win prizes up to 1,00,000!</p>
                        <div class="opportunity-details">
                            <p><strong><i class="fas fa-calendar"></i> Deadline:</strong> March 15, 2025</p>
                            <p><strong><i class="fas fa-coins"></i> Prize Pool:</strong> 1,00,000</p>
                            <p><strong> Mode:</strong> Online</p>
                        </div>
                        <button onclick="applyToOpportunity('hackathon1')" class="btn btn-primary">Join Now </button>
                    </div>

                    <!-- Internship 1 -->
                    <div class="opportunity-card" data-type="internship">
                        <div class="opportunity-badge internship">Internship</div>
                        <h4>Software Development Internship</h4>
                        <p class="opportunity-desc">6-month paid internship with leading tech company. Hands-on experience with latest technologies.</p>
                        <div class="opportunity-details">
                            <p><strong><i class="fas fa-calendar"></i> Deadline:</strong> February 28, 2025</p>
                            <p><strong><i class="fas fa-coins"></i> Stipend:</strong> 15,000/month</p>
                            <p><strong> Location:</strong> Remote</p>
                        </div>
                        <button onclick="applyToOpportunity('internship1')" class="btn btn-primary">Apply Now </button>
                    </div>

                    <!-- Hackathon 2 -->
                    <div class="opportunity-card" data-type="hackathon">
                        <div class="opportunity-badge hackathon">Hackathon</div>
                        <h4>AI/ML Competition 2025</h4>
                        <p class="opportunity-desc">Solve machine learning challenges and compete with top developers globally.</p>
                        <div class="opportunity-details">
                            <p><strong><i class="fas fa-calendar"></i> Deadline:</strong> April 10, 2025</p>
                            <p><strong><i class="fas fa-coins"></i> Prize Pool:</strong> 75,000</p>
                            <p><strong> Mode:</strong> Online</p>
                        </div>
                        <button onclick="applyToOpportunity('hackathon2')" class="btn btn-primary">Join Now </button>
                    </div>

                    <!-- Internship 2 -->
                    <div class="opportunity-card" data-type="internship">
                        <div class="opportunity-badge internship">Internship</div>
                        <h4>Data Science Internship</h4>
                        <p class="opportunity-desc">Work on real data projects and learn from industry experts. Certificate provided.</p>
                        <div class="opportunity-details">
                            <p><strong><i class="fas fa-calendar"></i> Deadline:</strong> March 5, 2025</p>
                            <p><strong><i class="fas fa-coins"></i> Stipend:</strong> 12,000/month</p>
                            <p><strong> Location:</strong> Hybrid</p>
                        </div>
                        <button onclick="applyToOpportunity('internship2')" class="btn btn-primary">Apply Now </button>
                    </div>
                </div>

                <!-- Instructions for updating opportunities (HTML comment) -->
                <!--
                TO ADD NEW OPPORTUNITIES:
                1. Copy an opportunity-card div
                2. Update the badge (hackathon/internship)
                3. Update title, description, deadline, prize/stipend, mode/location
                4. Update the link URL
                5. Add data-type attribute for filtering
                -->
            </div>

            <!-- Community Tab -->
            <div id="community-tab" class="tab-content">
                <div class="community-header">
                    <h3><i class="fas fa-comments"></i> Express Your Thoughts Community</h3>
                    <button class="btn btn-primary" onclick="openNewPostModal()">+ New Post</button>
                </div>
                <div class="community-tabs">
                    <button class="community-tab-btn active" onclick="showCommunityTab('idea-wall')"><i class="fas fa-lightbulb"></i> Idea Wall</button>
                    <button class="community-tab-btn" onclick="showCommunityTab('best-thought')"><i class="fas fa-star"></i> Best Thought of the Week</button>
                    <button class="community-tab-btn" onclick="showCommunityTab('discussions')"><i class="fas fa-comments"></i> Discussions</button>
                </div>
                <div id="idea-wall-section" class="community-section active">
                    <div id="community-posts">
                        <!-- Community posts will be loaded here -->
                    </div>
                </div>
                <div id="best-thought-section" class="community-section">
                    <div id="best-thought-content">
                        <h4><i class="fas fa-star"></i> Best Thought of the Week</h4>
                        <div id="weekly-winner">
                            <!-- Weekly winner will be loaded here -->
                        </div>
                    </div>
                </div>
                <div id="discussions-section" class="community-section">
                    <div id="discussion-threads">
                        <!-- Discussion threads will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Leaderboard Tab -->
            <div id="leaderboard-tab" class="tab-content">
                <div class="leaderboard-header">
                    <h3><i class="fas fa-trophy"></i> Leaderboard</h3>
                    <div class="leaderboard-filters">
                        <button class="filter-btn active" onclick="filterLeaderboard('all-time')">All Time</button>
                        <button class="filter-btn" onclick="filterLeaderboard('monthly')">This Month</button>
                        <button class="filter-btn" onclick="filterLeaderboard('weekly')">This Week</button>
                    </div>
                </div>
                <div class="leaderboard-top3">
                    <div class="leaderboard-podium">
                        <div class="podium-second">
                            <div class="podium-rank">2</div>
                            <div class="podium-name" id="leaderboard-2nd">-</div>
                            <div class="podium-points" id="leaderboard-2nd-points">0 pts</div>
                        </div>
                        <div class="podium-first">
                            <div class="podium-rank"></div>
                            <div class="podium-name" id="leaderboard-1st">-</div>
                            <div class="podium-points" id="leaderboard-1st-points">0 pts</div>
                        </div>
                        <div class="podium-third">
                            <div class="podium-rank">3</div>
                            <div class="podium-name" id="leaderboard-3rd">-</div>
                            <div class="podium-points" id="leaderboard-3rd-points">0 pts</div>
                        </div>
                    </div>
                </div>
                <div class="leaderboard-list" id="leaderboard-list">
                    <!-- Leaderboard entries will be loaded here -->
                </div>
            </div>

            <!-- Achievements Tab -->
            <div id="achievements-tab" class="tab-content">
                <h3><i class="fas fa-medal"></i> Your Achievements & Certificates</h3>
                <div class="achievements-grid" id="achievements-grid">
                    <!-- Achievements will be loaded here -->
                </div>
                <div class="certificates-section">
                    <h4> Certificates</h4>
                    <div class="certificates-grid" id="certificates-grid">
                        <!-- Certificates will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Exclusive Content Tab -->
            <div id="exclusive-tab" class="tab-content">
                <div id="exclusive-content-area">
                    <!-- Will be populated by JavaScript based on enrollment status -->
                </div>
            </div>

            <!-- Mentorship Tab -->
            <div id="mentorship-tab" class="tab-content">
                <div class="mentorship-header">
                    <h3><i class="fas fa-handshake"></i> Mentorship & Chat</h3>
                    <button class="btn btn-primary" onclick="openAskMentorModal()">Ask a Mentor</button>
                </div>
                <div class="mentorship-sections">
                    <div class="ask-mentor-section">
                        <h4><i class="fas fa-comments"></i> Ask a Mentor</h4>
                        <p>Book a 15-minute chat with our team members for guidance</p>
                        <div class="mentor-list" id="mentor-list">
                            <!-- Mentors will be loaded here -->
                        </div>
                    </div>
                    <div class="discussion-room-section">
                        <h4><i class="fas fa-comments"></i> Discussion Room</h4>
                        <p>Join group discussions about hackathons and career guidance</p>
                        <div id="discussion-room-messages">
                            <!-- Discussion messages will be loaded here -->
                        </div>
                        <div class="message-input">
                            <input type="text" id="discussion-message-input" placeholder="Type your message...">
                            <button class="btn btn-primary" onclick="sendDiscussionMessage()">Send</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div id="analytics-tab" class="tab-content">
                <h3><i class="fas fa-chart-bar"></i> Your Analytics</h3>
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h4> Hours Spent Learning</h4>
                        <div class="analytics-value" id="analytics-hours">0h</div>
                        <div class="analytics-chart" id="hours-chart">
                            <!-- Chart will be rendered here -->
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h4><i class="fas fa-graduation-cap"></i> Courses Completed</h4>
                        <div class="analytics-value" id="analytics-courses-completed">0</div>
                        <div class="analytics-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="courses-progress"></div>
                            </div>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h4><i class="fas fa-fire"></i> Top 3 Interests</h4>
                        <div class="interests-list" id="top-interests">
                            <!-- Top interests will be loaded here -->
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h4> Learning Streak</h4>
                        <div class="analytics-value" id="learning-streak">0 days</div>
                        <p>Keep learning to maintain your streak!</p>
                    </div>
                </div>
            </div>

            <!-- Profile Tab -->
            <div id="profile-tab" class="tab-content">
                <div class="profile-header">
                    <h3><i class="fas fa-user"></i> Your Profile</h3>
                    <button onclick="openEditProfile()" class="btn btn-primary">Edit Profile</button>
                </div>
                <div class="profile-content-grid">
                    <div class="profile-main-info">
                        <div class="profile-info">
                            <p><strong>Name:</strong> <span id="profile-name">-</span></p>
                            <p><strong>Email:</strong> <span id="profile-email">-</span></p>
                            <p><strong>Phone:</strong> <span id="profile-phone">Not set</span></p>
                            <p><strong>Bio:</strong> <span id="profile-bio">No bio yet</span></p>
                            <p><strong>Skills:</strong> <span id="profile-skills">No skills added</span></p>
                            <p><strong>Preferred Domain:</strong> <span id="profile-domain">Not set</span></p>
                            <p><strong>Member Since:</strong> <span id="profile-joined">-</span></p>
                            <p><strong>Total Submissions:</strong> <span id="profile-submissions">0</span></p>
                            <p><strong>Referral Code:</strong> <span id="profile-referral-code">-</span></p>
                        </div>
                    </div>
                    <div class="profile-social-section">
                        <h4><i class="fas fa-globe"></i> Social Media</h4>
                        <div class="social-share-buttons">
                            <button class="btn btn-primary" onclick="shareOnLinkedIn()">Share on LinkedIn</button>
                            <button class="btn btn-primary" onclick="shareOnInstagram()">Share on Instagram</button>
                        </div>
                        <div class="referral-section">
                            <h4> Refer a Friend</h4>
                            <p>Share your referral code and earn bonus points!</p>
                            <div class="referral-code-display">
                                <input type="text" id="referral-code-input" readonly>
                                <button class="btn btn-primary" onclick="copyReferralCode()">Copy</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="feedback-section">
                    <h4><i class="fas fa-lightbulb"></i> Feedback & Suggestions</h4>
                    <p>How can we make this platform better?</p>
                    <textarea id="feedback-textarea" placeholder="Share your thoughts..."></textarea>
                    <button class="btn btn-primary" onclick="submitFeedback()">Submit Feedback</button>
                </div>
            </div>

            <!-- Election Hub Tab -->
            <div id="elections-tab" class="tab-content">
                <div class="election-header">
                    <h3><i class="fas fa-vote-yea"></i> Election Hub</h3>
                    <div class="election-header-actions">
                        <button onclick="openCreateElectionModal()" class="btn btn-primary" id="create-election-btn" style="display: none;">
                            <i class="fas fa-plus"></i> Create Election
                        </button>
                        <button onclick="openCandidateRegistrationModal()" class="btn btn-secondary">
                            <i class="fas fa-user-tie"></i> Register as Candidate
                        </button>
                    </div>
                </div>

                <!-- Active Elections -->
                <div class="elections-section">
                    <h4><i class="fas fa-poll"></i> Active Elections</h4>
                    <div id="active-elections-list" class="elections-grid">
                        <p style="text-align: center; color: #888; padding: 2rem;">No active elections at the moment.</p>
                    </div>
                </div>

                <!-- Past Elections -->
                <div class="elections-section" style="margin-top: 3rem;">
                    <h4><i class="fas fa-history"></i> Past Elections</h4>
                    <div id="past-elections-list" class="elections-grid">
                        <p style="text-align: center; color: #888; padding: 2rem;">No past elections to display.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Election Modal (Admin Only) -->
    <div id="createElectionModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeCreateElectionModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-vote-yea"></i></div>
                <h2>Create New Election</h2>
                <p>Set up a new election for your community</p>
            </div>
            <form id="createElectionForm" onsubmit="createElection(event)">
                <div class="form-group">
                    <label for="election-title">
                        <span class="label-icon"><i class="fas fa-heading"></i></span> Election Title
                    </label>
                    <input type="text" id="election-title" required placeholder="e.g., Class Monitor Election 2024">
                </div>
                <div class="form-group">
                    <label for="election-description">
                        <span class="label-icon"><i class="fas fa-align-left"></i></span> Description
                    </label>
                    <textarea id="election-description" required rows="3" placeholder="Describe the election and its importance..."></textarea>
                </div>
                <div class="form-group">
                    <label for="election-position">
                        <span class="label-icon"><i class="fas fa-briefcase"></i></span> Position
                    </label>
                    <select id="election-position" required onchange="handlePositionChange()">
                        <option value="">Select Position</option>
                        <option value="Class Monitor">Class Monitor</option>
                        <option value="Class Representative">Class Representative</option>
                        <option value="Student Council President">Student Council President</option>
                        <option value="Student Council Vice President">Student Council Vice President</option>
                        <option value="Secretary">Secretary</option>
                        <option value="Treasurer">Treasurer</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group" id="custom-position-group" style="display: none;">
                    <label for="custom-position">
                        <span class="label-icon"><i class="fas fa-edit"></i></span> Custom Position Name
                    </label>
                    <input type="text" id="custom-position" placeholder="Enter position name">
                </div>
                <div class="form-group">
                    <label for="election-start-date">
                        <span class="label-icon"><i class="fas fa-calendar-alt"></i></span> Start Date
                    </label>
                    <input type="datetime-local" id="election-start-date" required>
                </div>
                <div class="form-group">
                    <label for="election-end-date">
                        <span class="label-icon"><i class="fas fa-calendar-times"></i></span> End Date
                    </label>
                    <input type="datetime-local" id="election-end-date" required>
                </div>
                <div class="form-group">
                    <label for="election-max-candidates">
                        <span class="label-icon"><i class="fas fa-users"></i></span> Max Candidates
                    </label>
                    <input type="number" id="election-max-candidates" min="2" max="20" value="10" required>
                </div>
                <button type="submit" class="btn btn-primary btn-auth">
                    <span class="btn-text">Create Election</span>
                    <span class="btn-loading" style="display: none;">Creating...</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Candidate Registration Modal -->
    <div id="candidateRegistrationModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content">
            <span class="close" onclick="closeCandidateRegistrationModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-user-tie"></i></div>
                <h2>Register as Candidate</h2>
                <p>Join an election and share your vision</p>
            </div>
            <form id="candidateRegistrationForm" onsubmit="registerAsCandidate(event)">
                <div class="form-group">
                    <label for="candidate-election-select">
                        <span class="label-icon"><i class="fas fa-vote-yea"></i></span> Select Election
                    </label>
                    <select id="candidate-election-select" required>
                        <option value="">Choose an election</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="candidate-manifesto">
                        <span class="label-icon"><i class="fas fa-file-alt"></i></span> Campaign Manifesto
                    </label>
                    <textarea id="candidate-manifesto" required rows="5" placeholder="Share your vision, goals, and why you're the best candidate..."></textarea>
                </div>
                <div class="form-group">
                    <label for="candidate-post-link">
                        <span class="label-icon"><i class="fas fa-link"></i></span> Link to Your Post (Optional)
                    </label>
                    <input type="text" id="candidate-post-link" placeholder="Paste link to your community post">
                    <small style="color: #888; font-size: 0.85rem;">Link your campaign to an existing post from the Community section</small>
                </div>
                <button type="submit" class="btn btn-primary btn-auth">
                    <span class="btn-text">Register as Candidate</span>
                    <span class="btn-loading" style="display: none;">Registering...</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Election Details Modal -->
    <div id="electionDetailsModal" class="modal auth-modal">
        <div class="modal-content auth-modal-content" style="max-width: 900px;">
            <span class="close" onclick="closeElectionDetailsModal()">&times;</span>
            <div class="auth-modal-header">
                <div class="auth-logo"><i class="fas fa-poll"></i></div>
                <h2 id="election-details-title">Election Details</h2>
                <p id="election-details-position"></p>
            </div>
            <div id="election-details-content">
                <!-- Content will be dynamically loaded -->
            </div>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Generate floating particles
        function createParticles() {
            const particlesContainer = document.querySelector('.particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size and position
                const size = Math.random() * 4 + 2;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
                
                particlesContainer.appendChild(particle);
            }
        }
      // ===== IMAGE SLIDESHOW FUNCTIONALITY =====
let slideIndex = 0;
let slideInterval;

function startSlideshow() {
    showSlides();
    slideInterval = setInterval(showSlides, 4000); // Change image every 4 seconds
}

function showSlides() {
    const slides = document.getElementsByClassName("slide");
    const dots = document.getElementsByClassName("dot");
    
    // Hide all slides
    for (let i = 0; i < slides.length; i++) {
        slides[i].classList.remove("active");
    }
    
    // Remove active class from all dots
    for (let i = 0; i < dots.length; i++) {
        dots[i].classList.remove("active");
    }
    
    // Move to next slide
    slideIndex++;
    if (slideIndex > slides.length) {
        slideIndex = 1;
    }
    
    // Show current slide and dot
    if (slides[slideIndex - 1]) {
        slides[slideIndex - 1].classList.add("active");
    }
    if (dots[slideIndex - 1]) {
        dots[slideIndex - 1].classList.add("active");
    }
}

function currentSlide(n) {
    clearInterval(slideInterval);
    slideIndex = n - 1;
    showSlides();
    slideInterval = setInterval(showSlides, 4000);
}

// Start slideshow when page loads
document.addEventListener('DOMContentLoaded', function() {
    startSlideshow();
});
         // ===== FORM SUBMISSION =====
    document.getElementById('thoughtForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const submitButton = this.querySelector('button[type="submit"]');
        const originalText = submitButton.innerHTML;
        
        submitButton.innerHTML = 'Sending... ';
        submitButton.disabled = true;
        
        try {
            const formData = new FormData(this);
            
            // Save to Firebase first
            if (currentUser && database) {
                const submissionData = {
                    name: formData.get('name'),
                    email: formData.get('email'),
                    category: formData.get('category'),
                    title: formData.get('title'),
                    thoughts: formData.get('message'),
                    impact: formData.get('impact'),
                    userId: currentUser.uid,
                    userName: currentUser.displayName || formData.get('name'),
                    submittedAt: new Date().toISOString(),
                    submissionTime: new Date().toLocaleString()
                };
                
                await saveSubmissionToDatabase(submissionData);
                console.log(' Saved to Firebase');
            }
            
            // Then send to Web3Forms for email
            console.log(' Sending to Web3Forms...');
            const response = await fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData
            });
            
            const result = await response.json();
            console.log('Web3Forms response:', result);
            
            if (response.ok && result.success) {
                console.log(' Form submitted successfully');
                showSuccessModal();
                this.reset();
            } else {
                console.log(' Web3Forms error:', result);
                // Even if Web3Forms fails, show success if Firebase saved
                showSuccessModal();
                this.reset();
            }
            
        } catch (error) {
            console.error(' Submission error:', error);
            // Even if there's an error, show success if we saved to Firebase
            showSuccessModal();
            this.reset();
        } finally {
            submitButton.innerHTML = originalText;
            submitButton.disabled = false;
        }
    });

 // // Save thought submission to Firebase
 //        document.getElementById('thoughtForm').addEventListener('submit', async function(e) {
 //            e.preventDefault();
            
 //            const submitButton = this.querySelector('button[type="submit"]');
 //            const originalText = submitButton.innerHTML;
            
 //            submitButton.innerHTML = 'Sending... ';
 //            submitButton.disabled = true;
            
 //            try {
 //                const formData = new FormData(this);
 //                const data = {
 //                    name: formData.get('name'),
 //                    email: formData.get('_replyto'),
 //                    category: formData.get('category'),
 //                    title: formData.get('title'),
 //                    thoughts: formData.get('message'),
 //                    impact: formData.get('impact'),
 //                    submittedAt: firebase.firestore.FieldValue.serverTimestamp(),
 //                    userId: currentUser ? currentUser.uid : null,
 //                    userEmail: formData.get('_replyto')
 //                };

 //                // Save to Firestore
 //                await db.collection('submissions').add(data);

 //                // Also send email via Web3Forms
 //                const response = await fetch(this.action, {
 //                    method: 'POST',
 //                    body: formData,
 //                    headers: {
 //                        'Accept': 'application/json'
 //                    }
 //                });

 //                if (response.ok) {
 //                    showSuccessModal();
 //                    this.reset();
 //                } else {
 //                    throw new Error('Email submission failed');
 //                }
                
 //            } catch (error) {
 //                console.error('Error:', error);
 //                showErrorModal();
 //            } finally {
 //                submitButton.innerHTML = originalText;
 //                submitButton.disabled = false;
 //            }
 //        });
        
        // Send confirmation email to user
        async function sendConfirmationEmail(userEmail, userName) {
            const confirmationData = new FormData();
            confirmationData.append('to_email', userEmail);
            confirmationData.append('user_name', userName);
            confirmationData.append('subject', 'Thank you for your submission - Express Your Thoughts');
            confirmationData.append('message', `Dear ${userName},\n\nThank you for submitting your thoughts to Express Your Thoughts!\n\nYour submission has been received and will be reviewed for our contest. We appreciate you taking the time to share your vision and ideas with us.\n\nWe'll announce the top 3 winners on our social media platforms, so make sure to follow us to stay updated!\n\nBest of luck!\n\nThe Express Your Thoughts Team\n\nP.S. Follow us on social media for updates and winner announcements!`);
            
            try {
                await fetch('https://formspree.io/f/xldpqerp', {
                    method: 'POST',
                    body: confirmationData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
            } catch (error) {
                console.log('Confirmation email could not be sent:', error);
            }
        }

        // ===== SUCCESS AND ERROR MODALS =====
    function showSuccessModal() {
        console.log(' Showing success modal');
        const modal = document.getElementById('successModal');
        if (modal) {
            modal.style.cssText = 'display: block !important';
            document.body.classList.add('modal-open');
        } else {
            // Fallback if modal doesn't exist
            alert(' Thank you! Your thoughts have been submitted successfully!');
        }
    }

    function showErrorModal() {
        console.log(' Showing error modal');
        const modal = document.getElementById('errorModal');
        if (modal) {
            modal.style.cssText = 'display: block !important';
            document.body.classList.add('modal-open');
        } else {
            // Fallback if modal doesn't exist
            alert(' There was an error submitting your thoughts. Please try again.');
        }
    }

    function closeSuccessModal() {
        const modal = document.getElementById('successModal');
        if (modal) {
            modal.style.cssText = 'display: none !important';
            document.body.classList.remove('modal-open');
        }
    }

    function closeErrorModal() {
        const modal = document.getElementById('errorModal');
        if (modal) {
            modal.style.cssText = 'display: none !important';
            document.body.classList.remove('modal-open');
        }
    }

    // Close modals when clicking X or outside
    document.querySelectorAll('.close').forEach(closeBtn => {
        closeBtn.addEventListener('click', function() {
            const successModal = document.getElementById('successModal');
            const errorModal = document.getElementById('errorModal');
            const dashboardModal = document.getElementById('dashboardModal');
            const loginModal = document.getElementById('loginModal');
            const signupModal = document.getElementById('signupModal');
            const forgotModal = document.getElementById('forgotPasswordModal');
            const verifyModal = document.getElementById('verificationModal');
            const editProfileModal = document.getElementById('editProfileModal');
            
            if (successModal) successModal.style.cssText = 'display: none !important';
            if (errorModal) errorModal.style.cssText = 'display: none !important';
            if (dashboardModal) dashboardModal.style.cssText = 'display: none !important';
            if (loginModal) loginModal.style.cssText = 'display: none !important';
            if (signupModal) signupModal.style.cssText = 'display: none !important';
            if (forgotModal) forgotModal.style.cssText = 'display: none !important';
            if (verifyModal) verifyModal.style.cssText = 'display: none !important';
            if (editProfileModal) editProfileModal.style.cssText = 'display: none !important';
            
            document.body.classList.remove('modal-open');
        });
    });

    window.addEventListener('click', function(e) {
        if (e.target.classList.contains('modal')) {
            e.target.style.cssText = 'display: none !important';
            document.body.classList.remove('modal-open');
        }
    });

        // Initialize particles when page loads
               // Initialize particles and slideshow when page loads
        window.addEventListener('load', function() {
            createParticles();
            startSlideshow();
        });

        // Add some interactive hover effects
        document.querySelectorAll('.rule-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px) scale(1.02)';
                this.style.transition = 'all 0.3s ease';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        // Dynamic background color change on scroll
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const rate = scrolled * -0.5;
            
            // Subtle parallax effect for hero section
            const hero = document.querySelector('.hero');
            if (hero) {
                hero.style.transform = `translateY(${rate}px)`;
            }
        });
console.log(' Express Your Thoughts website loaded successfully!');
        console.log(' Ready to collect amazing thoughts and ideas!');
    </script>

<!-- ========== FIXED FIREBASE WITH REALTIME DATABASE ========== -->
<script>
    // ===== FIREBASE CONFIGURATION =====
    const firebaseConfig = {
        apiKey: "AIzaSyAq1ebAz6h5WdmPuWejBOI569FsV2TtRl0",
        authDomain: "express-your-thoughts-465a3.firebaseapp.com",
        projectId: "express-your-thoughts-465a3",
        storageBucket: "express-your-thoughts-465a3.appspot.com",
        messagingSenderId: "887321510949",
        appId: "1:887321510949:web:8b48e64ebe198507f12bcc",
        databaseURL: "https://express-your-thoughts-465a3-default-rtdb.firebaseio.com"
    };

// ===== GLOBAL VARIABLES =====
let auth = null;
let database = null;  // Changed from firestore
let currentUser = null;

// ===== INITIALIZE FIREBASE =====
function initializeFirebase() {
    try {
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        
        // Use Realtime Database instead of Firestore
        if (typeof firebase.database === 'function') {
            auth = firebase.auth();
            database = firebase.database();  // Realtime Database
            
            window.auth = auth;
            window.database = database;
            
            console.log(' Firebase initialized successfully!');
            setupAuthListener();
        } else {
            console.error(' firebase.database is not available - check imports');
        }
        
    } catch (error) {
        console.error(' Firebase initialization error:', error);
    }
}

// ===== AUTH STATE LISTENER =====
function setupAuthListener() {
    if (!auth) return;
    
    auth.onAuthStateChanged((user) => {
        if (user) {
            currentUser = user;
            window.currentUser = user;
            console.log(' User logged in:', user.email);
            
            try {
                // USE REALTIME DATABASE SYNTAX
                const userRef = database.ref('users/' + user.uid);
            userRef.once('value').then((snapshot) => {
                    if (!snapshot.exists()) {
                        userRef.set({
                            name: user.displayName || 'User',
                            email: user.email,
                            phone: '',
                            joinedDate: new Date().toLocaleDateString(),
                            createdAt: new Date().toISOString(),
                            emailVerified: user.emailVerified
                        });
                    }
                    
                const userData = snapshot.val() || {
                        name: user.displayName || 'User',
                        email: user.email,
                        phone: '',
                        joinedDate: new Date().toLocaleDateString(),
                        points: 0,
                        submissionsCount: 0,
                        coursesJoined: 0,
                        learningHours: 0
                    };
                    
                    updateAuthUI(userData);

                // Update dashboard stat cards if visible
                const joinedEl = document.getElementById('stat-joined');
                const verifiedEl = document.getElementById('stat-verified');
                const pointsEl = document.getElementById('stat-points');
                const coursesEl = document.getElementById('stat-courses');
                
                if (joinedEl) joinedEl.textContent = userData.joinedDate || new Date().toLocaleDateString();
                if (verifiedEl) verifiedEl.textContent = (user.emailVerified || userData.emailVerified) ? 'Verified' : 'Not Verified';
                if (pointsEl) pointsEl.textContent = userData.points || 0;
                if (coursesEl) coursesEl.textContent = userData.coursesJoined || 0;
                
                // Load referral code
                loadReferralCode();
                });
                
            } catch (error) {
                console.error('Error loading user data:', error);
                updateAuthUI({
                    name: user.displayName || 'User',
                    email: user.email,
                    joinedDate: new Date().toLocaleDateString(),
                    uid: user.uid
                });
            }
        } else {
            currentUser = null;
            window.currentUser = null;
            console.log(' User logged out');
            updateAuthUI(null);
        }
    });
}

// ===== MODAL FUNCTIONS =====
// (Modal functions are defined later in the file - see lines around 3602)
    // ===== UPDATE AUTH UI =====
        function updateAuthUI(userData) {
        const authButtons = document.querySelector('.auth-buttons');
        if (!authButtons) return;

        if (userData) {
            // Use the actual name from userData, not just displayName
            const userName = userData.name || currentUser?.displayName || userData.email.split('@')[0] || 'User';
            
            authButtons.innerHTML = `
                <span style="color: #667eea; font-weight: 600; margin-right: 1rem;">Hello, ${userName.split(' ')[0]}!</span>
                <button class="btn-login" onclick="openDashboard()">Dashboard</button>
                <button class="btn-logout" onclick="handleLogout()">Logout</button>
            `;
            console.log(' Auth UI updated with name:', userName);
        } else {
            authButtons.innerHTML = `
                <button class="btn-login" onclick="openLoginModal()">Login</button>
                <button class="btn-signup" onclick="openSignupModal()">Sign Up</button>
            `;
        }
    }

    // ===== AUTH HANDLERS =====
     async function handleLogin(event) {
        event.preventDefault();
        
        if (!auth) {
            alert('Authentication service is not available. Please refresh the page and try again.');
            return;
        }
        
        const email = document.getElementById('login-email').value.trim();
        const password = document.getElementById('login-password').value;

        if (!email || !password) {
            alert('Please enter both email and password.');
            return;
        }

        const submitBtn = event.target.querySelector('button[type="submit"]');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');
        
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline';
        submitBtn.disabled = true;

        try {
            const userCredential = await auth.signInWithEmailAndPassword(email, password);
            const user = userCredential.user;

            console.log(' Login successful, user:', user.email);
            
            // Show success message
            alert(' Login successful! Welcome back! ');
            
            // Close modal and reset form
            closeLoginModal();
            document.getElementById('loginForm').reset();
            
            // Wait a bit for auth state to update, then open dashboard
            setTimeout(() => {
                if (currentUser) {
                    openDashboard();
                }
            }, 1000);
            
        } catch (error) {
            console.error('Login error:', error);
            let errorMessage = 'Login failed. ';
            
            switch(error.code) {
                case 'auth/user-not-found':
                    errorMessage += 'No account found with this email. Please sign up first.';
                    break;
                case 'auth/wrong-password':
                    errorMessage += 'Incorrect password. Please try again.';
                    break;
                case 'auth/invalid-email':
                    errorMessage += 'Please enter a valid email address.';
                    break;
                case 'auth/too-many-requests':
                    errorMessage += 'Too many failed attempts. Please try again later.';
                    break;
                default:
                    errorMessage += error.message;
            }
            
            alert(errorMessage);
        } finally {
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
            submitBtn.disabled = false;
        }
    }

    //   async function handleLogin(event) {
    //     event.preventDefault();
        
    //     if (!auth) {
    //         alert('Authentication service is not available. Please refresh the page and try again.');
    //         return;
    //     }
        
    //     const email = document.getElementById('login-email').value.trim();
    //     const password = document.getElementById('login-password').value;

    //     if (!email || !password) {
    //         alert('Please enter both email and password.');
    //         return;
    //     }

    //     const submitBtn = event.target.querySelector('button[type="submit"]');
    //     const btnText = submitBtn.querySelector('.btn-text');
    //     const btnLoading = submitBtn.querySelector('.btn-loading');
        
    //     btnText.style.display = 'none';
    //     btnLoading.style.display = 'inline';
    //     submitBtn.disabled = true;

    //     try {
    //         const userCredential = await auth.signInWithEmailAndPassword(email, password);
    //         const user = userCredential.user;

    //         // REMOVED the email verification check that was logging users out
    //         // if (!user.emailVerified) {
    //         //     alert(' Please verify your email first!\n\nCheck your inbox for the verification link.');
    //         //     await auth.signOut();
    //         //     return;
    //         // }

    //         console.log(' Login successful, user:', user.email);
            
    //         // Close modal and reset form
    //         closeLoginModal();
    //         document.getElementById('loginForm').reset();
            
    //         // Let the auth state listener handle the UI update
    //         // Don't force open dashboard immediately
            
    //     } catch (error) {
    //         console.error('Login error:', error);
    //         let errorMessage = 'Login failed. ';
            
    //         switch(error.code) {
    //             case 'auth/user-not-found':
    //                 errorMessage += 'No account found with this email. Please sign up first.';
    //                 break;
    //             case 'auth/wrong-password':
    //                 errorMessage += 'Incorrect password. Please try again.';
    //                 break;
    //             case 'auth/invalid-email':
    //                 errorMessage += 'Please enter a valid email address.';
    //                 break;
    //             case 'auth/too-many-requests':
    //                 errorMessage += 'Too many failed attempts. Please try again later.';
    //                 break;
    //             default:
    //                 errorMessage += error.message;
    //         }
            
    //         alert(errorMessage);
    //     } finally {
    //         btnText.style.display = 'inline';
    //         btnLoading.style.display = 'none';
    //         submitBtn.disabled = false;
    //     }
    // }
async function loginWithEmail(email, password) {
    if (!auth) {
        alert('Authentication service is not available. Please refresh the page and try again.');
        return;
    }
    
    try {
        const result = await auth.signInWithEmailAndPassword(email, password);
        const user = result.user;
        
        if (database) {
            //  CORRECT: No {merge: true} parameter
            await database.ref('users/' + user.uid).update({
                lastLogin: new Date().toISOString()
            });
        }
        
        console.log(' Email login successful:', user.email);
        alert(' Login successful! Welcome back! ');
        
        closeLoginModal();
        currentUser = user;
        window.currentUser = user;
        
        setTimeout(() => {
            openDashboard();
        }, 500);
        
    } catch (error) {
        console.error('Email login error:', error);
        alert('Error: ' + error.message);
    }
}

// ===== SIGNUP FORM HANDLER =====
function handleSignup(event) {
    event.preventDefault(); // Stop page from refreshing
    
    console.log(' Signup form submitted...');
    
    // Get form values
    const name = document.getElementById('signup-name').value;
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    const confirmPassword = document.getElementById('signup-confirm').value;
    const phone = document.getElementById('signup-phone').value;
    const termsAccepted = document.getElementById('terms-accept').checked;
    
    // Validation
    if (!name || !email || !password || !confirmPassword) {
        alert(' Please fill all required fields');
        return;
    }
    
    if (password !== confirmPassword) {
        alert(' Passwords do not match');
        return;
    }
    
    if (password.length < 8) {
        alert(' Password must be at least 8 characters long');
        return;
    }
    
    if (!termsAccepted) {
        alert(' Please accept the Terms & Conditions');
        return;
    }
    
    // Show loading state
    const submitBtn = event.target.querySelector('.btn-auth');
    const btnText = submitBtn.querySelector('.btn-text');
    const btnLoading = submitBtn.querySelector('.btn-loading');
    
    btnText.style.display = 'none';
    btnLoading.style.display = 'inline';
    submitBtn.disabled = true;
    
    console.log(' Creating account...', { name, email });
    
    // Call the signup function
    signupWithEmail(email, password, name)
        .finally(() => {
            // Reset button state
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
            submitBtn.disabled = false;
        });
}

// ===== SIGNUP WITH EMAIL =====
async function signupWithEmail(email, password, name) {
    if (!auth) {
        alert('Authentication service is not available. Please refresh the page and try again.');
        return;
    }
    
    try {
        const result = await auth.createUserWithEmailAndPassword(email, password);
        const user = result.user;
        
        // Update profile name
        await user.updateProfile({
            displayName: name
        });
        
        // Get phone number from form
        const phone = document.getElementById('signup-phone').value;
        
        if (database) {
            await database.ref('users/' + user.uid).set({
                name: name,
                email: email,
                phone: phone || '', // Include phone number
                joinedDate: new Date().toLocaleDateString(),
                createdAt: new Date().toISOString(),
                emailVerified: false
            });
        }
        
        console.log(' Email signup successful:', email);
        alert(' Account created successfully! Welcome ' + name + '! ');
        
        closeSignupModal();
        currentUser = user;
        window.currentUser = user;
        
        setTimeout(() => {
            openDashboard();
        }, 500);
        
    } catch (error) {
        console.error('Email signup error:', error);
        alert('Error: ' + error.message);
    }
}

// ===== PASSWORD TOGGLE FUNCTION =====
function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    const toggleBtn = input.parentNode.querySelector('.toggle-password');
    
    if (input.type === 'password') {
        input.type = 'text';
        toggleBtn.textContent = '';
    } else {
        input.type = 'password';
        toggleBtn.textContent = '';
    }
}

// ===== FORGOT PASSWORD HANDLER =====
function handleForgotPassword(event) {
    event.preventDefault();
    
    const email = document.getElementById('forgot-email').value;
    
    if (!email) {
        alert(' Please enter your email address');
        return;
    }
    
    // Show loading state
    const submitBtn = event.target.querySelector('.btn-auth');
    const btnText = submitBtn.querySelector('.btn-text');
    const btnLoading = submitBtn.querySelector('.btn-loading');
    
    btnText.style.display = 'none';
    btnLoading.style.display = 'inline';
    submitBtn.disabled = true;
    
    auth.sendPasswordResetEmail(email)
        .then(() => {
            alert(' Password reset email sent! Check your inbox.');
            closeForgotPassword();
        })
        .catch((error) => {
            console.error('Password reset error:', error);
            alert(' Error: ' + error.message);
        })
        .finally(() => {
            // Reset button state
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
            submitBtn.disabled = false;
        });
}

// ===== FORGOT PASSWORD MODAL FUNCTIONS =====
function openForgotPassword() {
    document.getElementById('forgotPasswordModal').style.cssText = 'display: block !important';
    document.body.classList.add('modal-open');
}

function closeForgotPassword() {
    document.getElementById('forgotPasswordModal').style.cssText = 'display: none !important';
    document.body.classList.remove('modal-open');
}

function backToLogin() {
    closeForgotPassword();
    openLoginModal();
}

// ===== VERIFICATION MODAL FUNCTIONS =====
function showVerificationModal(email) {
    document.getElementById('verification-email').textContent = email;
    document.getElementById('verificationModal').style.cssText = 'display: block !important';
    document.body.classList.add('modal-open');
}

function closeVerification() {
    document.getElementById('verificationModal').style.cssText = 'display: none !important';
    document.body.classList.remove('modal-open');
}

function resendVerificationEmail() {
    if (currentUser) {
        currentUser.sendEmailVerification()
            .then(() => {
                alert(' Verification email sent!');
            })
            .catch((error) => {
                alert(' Error sending verification: ' + error.message);
            });
    }
}

// ===== TERMS & PRIVACY FUNCTIONS =====
function showTerms() {
    alert('Terms & Conditions\n\nBy using Express Your Thoughts, you agree to:\n\n1. Provide accurate information\n2. Respect other users\n3. Use the platform responsibly\n4. Follow all applicable laws\n\nFor full terms, please contact us.');
}

function showPrivacy() {
    alert('Privacy Policy\n\nWe respect your privacy:\n\n1. Your data is securely stored\n2. We never share your information with third parties\n3. You can delete your account anytime\n4. We use industry-standard security measures\n\nFor full privacy policy, please contact us.');
}

// ===== GOOGLE AUTHENTICATION =====
async function loginWithGoogle() {
    if (!auth) {
        alert('Authentication service is not available. Please refresh the page and try again.');
        return;
    }
    
    try {
        const provider = new firebase.auth.GoogleAuthProvider();
        const result = await auth.signInWithPopup(provider);
        const user = result.user;
        
        // Get user's name from Google profile
        const userName = user.displayName || user.email.split('@')[0];
        
        // Save/update user data in database
        if (database) {
            await database.ref('users/' + user.uid).set({
                name: userName,
                email: user.email,
                phone: user.phoneNumber || '',
                joinedDate: new Date().toLocaleDateString(),
                createdAt: new Date().toISOString(),
                emailVerified: user.emailVerified,
                lastLogin: new Date().toISOString()
            });
        }
        
        console.log(' Google login successful:', user.email);
        alert(' Login successful! Welcome ' + userName + '! ');
        
        // Close any open modals
        closeLoginModal();
        closeSignupModal();
        
        currentUser = user;
        window.currentUser = user;
        
        setTimeout(() => {
            openDashboard();
        }, 500);
        
    } catch (error) {
        console.error('Google login error:', error);
        let errorMessage = 'Login failed. ';
        
        if (error.code === 'auth/popup-closed-by-user') {
            errorMessage += 'Login popup was closed. Please try again.';
        } else if (error.code === 'auth/popup-blocked') {
            errorMessage += 'Popup was blocked by browser. Please allow popups and try again.';
        } else {
            errorMessage += error.message;
        }
        
        alert(errorMessage);
    }
}

function signupWithGoogle() {
    loginWithGoogle();
}

async function handleLogout() {
    if (!auth) {
        alert('Authentication service not available.');
        return;
    }
    
    if (confirm('Are you sure you want to logout?')) {
        try {
            await auth.signOut();
            alert('Logged out successfully!');
        } catch (error) {
            console.error('Logout error:', error);
            alert('Error logging out. Please try again.');
        }
    }
}

// ===== MODAL FUNCTIONS =====
function openLoginModal() {
    document.getElementById('loginModal').style.cssText = 'display: block !important';
    document.body.classList.add('modal-open');
}

function closeLoginModal() {
    document.getElementById('loginModal').style.cssText = 'display: none !important';
    document.body.classList.remove('modal-open');
}

function openSignupModal() {
    document.getElementById('signupModal').style.cssText = 'display: block !important';
    document.body.classList.add('modal-open');
}

function closeSignupModal() {
    document.getElementById('signupModal').style.cssText = 'display: none !important';
    document.body.classList.remove('modal-open');
}

function switchToSignup() {
    closeLoginModal();
    openSignupModal();
}

function switchToLogin() {
    closeSignupModal();
    openLoginModal();
}

    // ===== DASHBOARD FUNCTIONS =====
    function openDashboard() {
        console.log(' TRYING TO OPEN DASHBOARD...');
        console.log('Current User:', currentUser);
        console.log('Auth Current User:', auth?.currentUser);
        
        if (!currentUser && auth?.currentUser) {
            currentUser = auth.currentUser;
            window.currentUser = auth.currentUser;
            console.log(' User set from auth:', currentUser.email);
        }
        
        if (!currentUser) {
            console.log(' No user found');
            alert('Please login first!');
            openLoginModal();
            return;
        }
        
        console.log(' User confirmed:', currentUser.email);
        console.log('User display name:', currentUser.displayName);
        
        // Get the dashboard modal
        const dashboardModal = document.getElementById('dashboardModal');
        console.log('Dashboard modal found:', dashboardModal);
        
        if (!dashboardModal) {
            console.log(' Dashboard modal not found in HTML');
            alert('Dashboard not available. Please refresh the page.');
            return;
        }
        
        // Load all dashboard data
        loadUserSubmissions();
        loadHomeDashboard();
        loadNotifications();
        loadReferralCode();
        
        // Update user info in dashboard - FIXED VERSION
        const dashboardUsername = document.getElementById('dashboard-username');
        const profileName = document.getElementById('profile-name');
        const profileEmail = document.getElementById('profile-email');
        const profilePhone = document.getElementById('profile-phone');
        
        // Get user data from database to get the actual name
        if (database && currentUser) {
            const userRef = database.ref('users/' + currentUser.uid);
            userRef.once('value', (snapshot) => {
                const userData = snapshot.val();
                console.log('User data from database:', userData);
                
                // Use database name first, then displayName, then fallback
                const userName = userData?.name || currentUser.displayName || currentUser.email.split('@')[0] || 'User';
                
                if (dashboardUsername) dashboardUsername.textContent = userName;
                if (profileName) profileName.textContent = userName;
                if (profileEmail) profileEmail.textContent = currentUser.email;
                if (profilePhone) profilePhone.textContent = userData?.phone || 'Not set';
                
                // Update stats
                if (document.getElementById('stat-points')) {
                    document.getElementById('stat-points').textContent = userData?.points || 0;
                }
                if (document.getElementById('stat-courses')) {
                    document.getElementById('stat-courses').textContent = userData?.coursesJoined || 0;
                }
                if (document.getElementById('stat-achievements')) {
                    // Will be updated when achievements are loaded
                }
                
                // Update profile display with all data (including photo and bio)
                updateProfileDisplay(userData);
                
                // Also load profile data to ensure photo and bio are loaded
                loadUserProfileData();
                
                console.log(' Dashboard updated with name:', userName);
            });
        } else {
            // Fallback if database not available
            const userName = currentUser.displayName || currentUser.email.split('@')[0] || 'User';
            if (dashboardUsername) dashboardUsername.textContent = userName;
            if (profileName) profileName.textContent = userName;
            if (profileEmail) profileEmail.textContent = currentUser.email;
            if (profilePhone) profilePhone.textContent = 'Not set';
        }
        
        // SHOW THE DASHBOARD
              // Set full screen by default
        const content = dashboardModal.querySelector('.modal-content');
        if (content) {
            content.style.width = '95vw';
            content.style.height = '95vh';
            content.style.maxWidth = 'none';
            content.style.maxHeight = 'none';
            content.style.margin = '2.5vh auto';
            content.style.borderRadius = '20px';
        }
        dashboardModal.style.display = 'block';
        dashboardModal.style.cssText = 'display: block !important';
        document.body.classList.add('modal-open');
        
        console.log(' Dashboard should be visible now!');
    }

    function closeDashboard() {
        document.getElementById('dashboardModal').style.cssText = 'display: none !important';
        document.body.classList.remove('modal-open');
    }

    function showTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(tab => {
            tab.classList.remove('active');
        });
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.remove('active');
        });

        const tabElement = document.getElementById(tabName + '-tab');
        if (tabElement) {
            tabElement.classList.add('active');
        }
        
        if (event && event.target) {
            event.target.classList.add('active');
        } else {
            // Find the button and mark it active
            document.querySelectorAll('.tab-btn').forEach(btn => {
                if (btn.textContent.includes(tabName.charAt(0).toUpperCase() + tabName.slice(1))) {
                    btn.classList.add('active');
                }
            });
        }
        
        // Load content based on tab
        if (tabName === 'exclusive') {
            loadExclusiveContent();
        } else if (tabName === 'home') {
            loadHomeDashboard();
        } else if (tabName === 'learning') {
            loadLearningContent();
        } else if (tabName === 'community') {
            loadCommunityPosts();
        } else if (tabName === 'leaderboard') {
            loadLeaderboard();
        } else if (tabName === 'achievements') {
            loadAchievements();
        } else if (tabName === 'analytics') {
            loadAnalytics();
        } else if (tabName === 'mentorship') {
            loadMentorship();
        } else if (tabName === 'elections') {
            loadElections();
            checkAdminStatus();
        }
    }

    // ===== POINTS & REWARDS SYSTEM =====
    async function addPoints(userId, points, reason) {
        if (!database) return;
        
        try {
            const userRef = database.ref('users/' + userId);
            const snapshot = await userRef.once('value');
            const userData = snapshot.val();
            const currentPoints = userData?.points || 0;
            const newPoints = currentPoints + points;
            
            await userRef.update({
                points: newPoints,
                lastPointsUpdate: new Date().toISOString()
            });
            
            // Record points transaction
            await database.ref('pointsTransactions/' + userId).push({
                points: points,
                reason: reason,
                timestamp: new Date().toISOString()
            });
            
            // Check for achievements
            checkAchievements(userId, newPoints);
            
            return newPoints;
        } catch (error) {
            console.error('Error adding points:', error);
            return 0;
        }
    }

    async function checkAchievements(userId, points) {
        const achievements = [
            { points: 100, name: 'First Steps', icon: '' },
            { points: 500, name: 'Rising Star', icon: '' },
            { points: 1000, name: 'Champion', icon: '' },
            { points: 5000, name: 'Legend', icon: '' }
        ];
        
        for (const achievement of achievements) {
            if (points >= achievement.points) {
                await awardAchievement(userId, achievement.name, achievement.icon);
            }
        }
    }

    async function awardAchievement(userId, name, icon) {
        if (!database) return;
        
        try {
            const achievementRef = database.ref('achievements/' + userId).push();
            await achievementRef.set({
                name: name,
                icon: icon,
                earnedAt: new Date().toISOString()
            });
            
            // Send notification
            await createNotification(userId, ` Achievement Unlocked: ${name}`, 'achievement');
        } catch (error) {
            console.error('Error awarding achievement:', error);
        }
    }

    // ===== NOTIFICATIONS =====
    async function createNotification(userId, message, type) {
        if (!database) return;
        
        try {
            await database.ref('notifications/' + userId).push({
                message: message,
                type: type,
                read: false,
                timestamp: new Date().toISOString()
            });
        } catch (error) {
            console.error('Error creating notification:', error);
        }
    }

    async function loadNotifications() {
        if (!currentUser || !database) return;
        
        try {
            const notificationsRef = database.ref('notifications/' + currentUser.uid).orderByChild('timestamp').limitToLast(20);
            notificationsRef.once('value', (snapshot) => {
                const notifications = snapshot.val();
                const notificationsList = document.getElementById('notifications-list');
                const notificationsCount = document.getElementById('stat-notifications');
                
                if (!notifications) {
                    if (notificationsList) notificationsList.innerHTML = '<p style="text-align: center; color: #888;">No notifications</p>';
                    if (notificationsCount) notificationsCount.textContent = '0';
                    return;
                }
                
                const unreadCount = Object.values(notifications).filter(n => !n.read).length;
                if (notificationsCount) notificationsCount.textContent = unreadCount;
                
                if (notificationsList) {
                    let html = '';
                    Object.values(notifications).reverse().forEach(notification => {
                        html += `
                            <div class="notification-item ${notification.read ? '' : 'unread'}">
                                <p>${notification.message}</p>
                                <small>${new Date(notification.timestamp).toLocaleString()}</small>
                            </div>
                        `;
                    });
                    notificationsList.innerHTML = html;
                }
            });
        } catch (error) {
            console.error('Error loading notifications:', error);
        }
    }

    function openNotifications() {
        loadNotifications();
        const modal = document.getElementById('notificationsModal');
        modal.style.display = 'block';
        modal.style.zIndex = '13000'; // Ensure it appears above dashboard
    }

    function closeNotifications() {
        document.getElementById('notificationsModal').style.display = 'none';
    }

    // ===== HOME DASHBOARD =====
    async function loadHomeDashboard() {
        if (!currentUser || !database) return;
        
        try {
            const userRef = database.ref('users/' + currentUser.uid);
            userRef.once('value', (snapshot) => {
                const userData = snapshot.val();
                
                // Update activity summary
                if (document.getElementById('home-submissions-count')) {
                    document.getElementById('home-submissions-count').textContent = userData?.submissionsCount || 0;
                }
                if (document.getElementById('home-courses-count')) {
                    document.getElementById('home-courses-count').textContent = userData?.coursesJoined || 0;
                }
                if (document.getElementById('home-points-count')) {
                    document.getElementById('home-points-count').textContent = userData?.points || 0;
                }
                if (document.getElementById('home-hours-count')) {
                    document.getElementById('home-hours-count').textContent = (userData?.learningHours || 0) + 'h';
                }
                
                // Load recent activity
                loadRecentActivity();
                
                // Load recommendations
                loadRecommendations();
                
                // Load daily motivation
                loadDailyMotivation();
            });
        } catch (error) {
            console.error('Error loading home dashboard:', error);
        }
    }

    async function loadRecentActivity() {
        if (!currentUser || !database) return;
        
        try {
            const activityRef = database.ref('userActivity/' + currentUser.uid).orderByChild('timestamp').limitToLast(5);
            activityRef.once('value', (snapshot) => {
                const activities = snapshot.val();
                const activityList = document.getElementById('recent-activity-list');
                
                if (!activities || !activityList) {
                    if (activityList) activityList.innerHTML = '<p style="text-align: center; color: #888;">No recent activity</p>';
                    return;
                }
                
                let html = '';
                Object.values(activities).reverse().forEach(activity => {
                    html += `<p>${activity.action} - ${new Date(activity.timestamp).toLocaleString()}</p>`;
                });
                activityList.innerHTML = html;
            });
        } catch (error) {
            console.error('Error loading recent activity:', error);
        }
    }

    function loadRecommendations() {
        const recommendations = [
            'Check out the Web Developer roadmap',
            'Join the Tech Innovation Hackathon',
            'Complete the JavaScript Basics course'
        ];
        
        const recommendedContent = document.getElementById('recommended-content');
        if (recommendedContent) {
            let html = '<ul>';
            recommendations.forEach(rec => {
                html += `<li style="margin: 0.5rem 0;">${rec}</li>`;
            });
            html += '</ul>';
            recommendedContent.innerHTML = html;
        }
    }

    function loadDailyMotivation() {
        const quotes = [
            'The only way to do great work is to love what you do. - Steve Jobs',
            'Innovation distinguishes between a leader and a follower. - Steve Jobs',
            'The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt',
            'Code is like humor. When you have to explain it, it\'s bad. - Cory House',
            'Programming isn\'t about what you know; it\'s about what you can figure out. - Chris Pine'
        ];
        
        const dailyQuote = document.getElementById('daily-quote');
        if (dailyQuote) {
            const today = new Date().getDate();
            const quote = quotes[today % quotes.length];
            dailyQuote.textContent = quote;
        }
    }

    // ===== LEARNING SECTION =====
    function showLearningTab(tabName) {
        document.querySelectorAll('.learning-section').forEach(section => {
            section.classList.remove('active');
        });
        document.querySelectorAll('.learning-tab-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        
        document.getElementById(tabName + '-section').classList.add('active');
        event.target.classList.add('active');
        
        if (tabName === 'courses') {
            loadCourses();
        } else if (tabName === 'mentors') {
            loadMentorVideos();
        } else if (tabName === 'my-courses') {
            loadMyCourses();
        }
    }

    function loadCourses() {
        const courses = [
            { id: 1, title: 'JavaScript Basics', description: 'Learn the fundamentals of JavaScript', duration: '5 hours', free: true },
            { id: 2, title: 'React Masterclass', description: 'Master React development', duration: '10 hours', free: false },
            { id: 3, title: 'Python for Beginners', description: 'Start your Python journey', duration: '8 hours', free: true }
        ];
        
        const coursesGrid = document.getElementById('courses-grid');
        if (coursesGrid) {
            let html = '';
            courses.forEach(course => {
                html += `
                    <div class="course-card">
                        <div class="course-card-content">
                            <h4>${course.title}</h4>
                            <p>${course.description}</p>
                            <p><strong>Duration:</strong> ${course.duration}</p>
                            <button class="btn btn-primary" onclick="enrollCourse(${course.id})">
                                ${course.free ? 'Enroll Free' : 'Enroll - $5'}
                            </button>
                        </div>
                    </div>
                `;
            });
            coursesGrid.innerHTML = html;
        }
    }

    async function enrollCourse(courseId) {
        if (!currentUser || !database) {
            alert('Please login to enroll in courses');
            return;
        }
        
        try {
            await database.ref('userCourses/' + currentUser.uid).push({
                courseId: courseId,
                enrolledAt: new Date().toISOString(),
                progress: 0
            });
            
            // Update user courses count
            const userRef = database.ref('users/' + currentUser.uid);
            const userSnapshot = await userRef.once('value');
            const userData = userSnapshot.val();
            const currentCourses = userData?.coursesJoined || 0;
            
            await userRef.update({
                coursesJoined: currentCourses + 1
            });
            
            // Add points for enrolling
            await addPoints(currentUser.uid, 50, 'Enrolled in course');
            
            // Record activity
            await database.ref('userActivity/' + currentUser.uid).push({
                action: 'Enrolled in a course',
                timestamp: new Date().toISOString()
            });
            
            // Update stats
            if (document.getElementById('stat-courses')) {
                document.getElementById('stat-courses').textContent = currentCourses + 1;
            }
            if (document.getElementById('home-courses-count')) {
                document.getElementById('home-courses-count').textContent = currentCourses + 1;
            }
            
            alert('Successfully enrolled in course!');
            loadMyCourses();
        } catch (error) {
            console.error('Error enrolling in course:', error);
            alert('Error enrolling in course');
        }
    }

    function loadMentorVideos() {
        const videos = [
            { title: 'Career Guidance by Dileep', url: 'https://www.youtube.com/embed/...' },
            { title: 'Design Tips by Alena', url: 'https://www.youtube.com/embed/...' }
        ];
        
        const mentorVideos = document.getElementById('mentor-videos');
        if (mentorVideos) {
            let html = '';
            videos.forEach(video => {
                html += `
                    <div class="course-card">
                        <h4>${video.title}</h4>
                        <iframe width="100%" height="200" src="${video.url}" frameborder="0" allowfullscreen></iframe>
                    </div>
                `;
            });
            mentorVideos.innerHTML = html;
        }
    }

    async function loadMyCourses() {
        if (!currentUser || !database) return;
        
        try {
            const coursesRef = database.ref('userCourses/' + currentUser.uid);
            coursesRef.once('value', (snapshot) => {
                const courses = snapshot.val();
                const myCoursesList = document.getElementById('my-courses-list');
                
                if (!courses || !myCoursesList) {
                    if (myCoursesList) myCoursesList.innerHTML = '<p style="text-align: center; color: #888;">You haven\'t enrolled in any courses yet.</p>';
                    return;
                }
                
                let html = '';
                Object.values(courses).forEach(course => {
                    html += `
                        <div class="course-card">
                            <h4>Course ${course.courseId}</h4>
                            <p>Progress: ${course.progress}%</p>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${course.progress}%"></div>
                            </div>
                        </div>
                    `;
                });
                myCoursesList.innerHTML = html;
            });
        } catch (error) {
            console.error('Error loading my courses:', error);
        }
    }

    function loadLearningContent() {
        loadCourses();
    }

    // ===== ROADMAP =====
    const roadmaps = {
        'web-developer': {
            title: 'Web Developer Roadmap',
            steps: [
                'Learn HTML & CSS',
                'Master JavaScript',
                'Learn a Framework (React/Vue)',
                'Build Projects',
                'Apply for Internships'
            ],
            resources: [
                'FreeCodeCamp',
                'MDN Web Docs',
                'React Official Docs'
            ]
        },
        'data-scientist': {
            title: 'Data Scientist Roadmap',
            steps: [
                'Learn Python',
                'Study Statistics',
                'Learn Machine Learning',
                'Practice with Datasets',
                'Build Portfolio'
            ],
            resources: [
                'Kaggle',
                'Coursera',
                'Towards Data Science'
            ]
        }
    };

    function openRoadmap(roadmapId) {
        const roadmap = roadmaps[roadmapId];
        if (!roadmap) return;
        
        document.getElementById('roadmap-title').textContent = roadmap.title;
        const roadmapContent = document.getElementById('roadmap-content');
        
        let html = '<h3>Steps:</h3><ol>';
        roadmap.steps.forEach((step, index) => {
            html += `<li style="margin: 1rem 0; font-size: 1.1rem;">${step}</li>`;
        });
        html += '</ol>';
        
        html += '<h3>Resources:</h3><ul>';
        roadmap.resources.forEach(resource => {
            html += `<li style="margin: 0.5rem 0;">${resource}</li>`;
        });
        html += '</ul>';
        
        roadmapContent.innerHTML = html;
        document.getElementById('roadmapModal').style.display = 'block';
    }

    function closeRoadmapModal() {
        document.getElementById('roadmapModal').style.display = 'none';
    }

    function openGlobalCommunity() {
        loadGlobalCommunity();
        const modal = document.getElementById('globalCommunityModal');
        modal.style.display = 'block';
        modal.style.zIndex = '13000'; // Ensure it appears above dashboard
    }

    function closeGlobalCommunityModal() {
        document.getElementById('globalCommunityModal').style.display = 'none';
    }

    async function loadGlobalCommunity() {
        if (!database) return;
        
        try {
            // Load top users
            const usersRef = database.ref('users').orderByChild('points').limitToLast(10);
            usersRef.once('value', (snapshot) => {
                const users = snapshot.val();
                const topUsersList = document.getElementById('top-users-list');
                
                if (!users || !topUsersList) {
                    if (topUsersList) topUsersList.innerHTML = '<p>No users yet.</p>';
                    return;
                }
                
                const usersArray = Object.entries(users).map(([id, data]) => ({
                    id,
                    name: data.name || 'Anonymous',
                    points: data.points || 0,
                    country: data.country || 'Unknown'
                })).sort((a, b) => b.points - a.points);
                
                let html = '';
                usersArray.forEach((user, index) => {
                    html += `
                        <div class="leaderboard-entry">
                            <span>${index + 1}. ${user.name} (${user.country})</span>
                            <strong>${user.points} pts</strong>
                        </div>
                    `;
                });
                topUsersList.innerHTML = html;
            });
            
            // World map placeholder
            const worldMap = document.getElementById('world-map');
            if (worldMap) {
                worldMap.innerHTML = '<p style="text-align: center; padding: 2rem;"> Global Community Map<br><small>Interactive map showing user locations around the world</small></p>';
            }
        } catch (error) {
            console.error('Error loading global community:', error);
        }
    }

    function commentOnPost(postId) {
        const comment = prompt('Enter your comment:');
        if (comment && currentUser && database) {
            database.ref('postComments/' + postId).push({
                authorId: currentUser.uid,
                authorName: currentUser.displayName || 'Anonymous',
                comment: comment,
                timestamp: new Date().toISOString()
            });
            alert('Comment added!');
        }
    }

    function downloadCertificate(certId) {
        alert('Certificate download feature coming soon!');
        // In a real app, this would generate and download a PDF certificate
    }

    function bookMentor(mentorId) {
        openAskMentorModal();
        // Pre-select the mentor if possible
        setTimeout(() => {
            const mentorSelect = document.getElementById('mentor-select');
            if (mentorSelect) {
                mentorSelect.value = mentorId;
            }
        }, 100);
    }

    // ===== COMMUNITY =====
    function showCommunityTab(tabName) {
        document.querySelectorAll('.community-section').forEach(section => {
            section.classList.remove('active');
        });
        document.querySelectorAll('.community-tab-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        
        document.getElementById(tabName + '-section').classList.add('active');
        event.target.classList.add('active');
        
        if (tabName === 'idea-wall') {
            loadCommunityPosts();
        } else if (tabName === 'best-thought') {
            loadBestThought();
        }
    }

    async function loadCommunityPosts() {
        if (!database) return;
        
        try {
            const postsRef = database.ref('communityPosts').orderByChild('timestamp').limitToLast(20);
            postsRef.once('value', (snapshot) => {
                const posts = snapshot.val();
                const postsContainer = document.getElementById('community-posts');
                
                if (!posts || !postsContainer) {
                    if (postsContainer) postsContainer.innerHTML = '<p style="text-align: center; color: #888;">No posts yet. Be the first to share!</p>';
                    return;
                }
                
                let html = '';
                Object.entries(posts).reverse().forEach(([postId, post]) => {
                    html += `
                        <div class="community-post">
                            <div class="post-header">
                                <strong>${post.authorName}</strong>
                                <small>${new Date(post.timestamp).toLocaleString()}</small>
                            </div>
                            <h4>${post.title}</h4>
                            <p>${post.content}</p>
                            <div class="post-actions">
                                <button class="post-action-btn" onclick="upvotePost('${postId}')"> ${post.upvotes || 0}</button>
                                <button class="post-action-btn" onclick="commentOnPost('${postId}')"> Comment</button>
                            </div>
                        </div>
                    `;
                });
                postsContainer.innerHTML = html;
            });
        } catch (error) {
            console.error('Error loading community posts:', error);
        }
    }

    async function submitNewPost(event) {
        event.preventDefault();
        if (!currentUser || !database) {
            alert('Please login to post');
            return;
        }
        
        const title = document.getElementById('post-title').value;
        const content = document.getElementById('post-content').value;
        
        try {
            await database.ref('communityPosts').push({
                title: title,
                content: content,
                authorId: currentUser.uid,
                authorName: currentUser.displayName || 'Anonymous',
                timestamp: new Date().toISOString(),
                upvotes: 0
            });
            
            // Add points for posting
            await addPoints(currentUser.uid, 10, 'Posted in community');
            
            alert('Post submitted successfully!');
            closeNewPostModal();
            loadCommunityPosts();
        } catch (error) {
            console.error('Error submitting post:', error);
            alert('Error submitting post');
        }
    }

    function openNewPostModal() {
        if (!currentUser) {
            alert('Please login to post');
            return;
        }
        const modal = document.getElementById('newPostModal');
        modal.style.display = 'block';
        modal.style.zIndex = '13000'; // Ensure it appears above dashboard
    }

    function closeNewPostModal() {
        document.getElementById('newPostModal').style.display = 'none';
        document.getElementById('newPostForm').reset();
    }

    async function upvotePost(postId) {
        if (!currentUser || !database) return;
        
        try {
            const postRef = database.ref('communityPosts/' + postId);
            const snapshot = await postRef.once('value');
            const post = snapshot.val();
            const newUpvotes = (post.upvotes || 0) + 1;
            
            await postRef.update({ upvotes: newUpvotes });
            loadCommunityPosts();
        } catch (error) {
            console.error('Error upvoting post:', error);
        }
    }

    function loadBestThought() {
        // Load weekly winner
        const weeklyWinner = document.getElementById('weekly-winner');
        if (weeklyWinner) {
            weeklyWinner.innerHTML = '<p>This week\'s best thought will be announced soon!</p>';
        }
    }

    // ===== LEADERBOARD =====
    async function loadLeaderboard() {
        if (!database) return;
        
        try {
            const usersRef = database.ref('users').orderByChild('points').limitToLast(10);
            usersRef.once('value', (snapshot) => {
                const users = snapshot.val();
                if (!users) return;
                
                const usersArray = Object.entries(users).map(([id, data]) => ({
                    id,
                    name: data.name || 'Anonymous',
                    points: data.points || 0
                })).sort((a, b) => b.points - a.points);
                
                // Update top 3
                if (usersArray[0]) {
                    document.getElementById('leaderboard-1st').textContent = usersArray[0].name;
                    document.getElementById('leaderboard-1st-points').textContent = usersArray[0].points + ' pts';
                }
                if (usersArray[1]) {
                    document.getElementById('leaderboard-2nd').textContent = usersArray[1].name;
                    document.getElementById('leaderboard-2nd-points').textContent = usersArray[1].points + ' pts';
                }
                if (usersArray[2]) {
                    document.getElementById('leaderboard-3rd').textContent = usersArray[2].name;
                    document.getElementById('leaderboard-3rd-points').textContent = usersArray[2].points + ' pts';
                }
                
                // Update list
                const leaderboardList = document.getElementById('leaderboard-list');
                if (leaderboardList) {
                    let html = '';
                    usersArray.forEach((user, index) => {
                        html += `
                            <div class="leaderboard-entry">
                                <span>${index + 1}. ${user.name}</span>
                                <strong>${user.points} pts</strong>
                            </div>
                        `;
                    });
                    leaderboardList.innerHTML = html;
                }
            });
        } catch (error) {
            console.error('Error loading leaderboard:', error);
        }
    }

    function filterLeaderboard(filter) {
        document.querySelectorAll('.leaderboard-filters .filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        loadLeaderboard();
    }

    // ===== ACHIEVEMENTS =====
    async function loadAchievements() {
        if (!currentUser || !database) return;
        
        try {
            const achievementsRef = database.ref('achievements/' + currentUser.uid);
            achievementsRef.once('value', (snapshot) => {
                const achievements = snapshot.val();
                const achievementsGrid = document.getElementById('achievements-grid');
                
                if (!achievements || !achievementsGrid) {
                    if (achievementsGrid) achievementsGrid.innerHTML = '<p>No achievements yet. Keep learning!</p>';
                    return;
                }
                
                let html = '';
                Object.values(achievements).forEach(achievement => {
                    html += `
                        <div class="achievement-card">
                            <div class="achievement-icon">${achievement.icon}</div>
                            <h4>${achievement.name}</h4>
                            <p>Earned: ${new Date(achievement.earnedAt).toLocaleDateString()}</p>
                        </div>
                    `;
                });
                achievementsGrid.innerHTML = html;
                
                // Update stat
                document.getElementById('stat-achievements').textContent = Object.keys(achievements).length;
            });
            
            // Load certificates
            loadCertificates();
        } catch (error) {
            console.error('Error loading achievements:', error);
        }
    }

    async function loadCertificates() {
        if (!currentUser || !database) return;
        
        try {
            const certificatesRef = database.ref('certificates/' + currentUser.uid);
            certificatesRef.once('value', (snapshot) => {
                const certificates = snapshot.val();
                const certificatesGrid = document.getElementById('certificates-grid');
                
                if (!certificates || !certificatesGrid) {
                    if (certificatesGrid) certificatesGrid.innerHTML = '<p>No certificates yet.</p>';
                    return;
                }
                
                let html = '';
                Object.values(certificates).forEach(cert => {
                    html += `
                        <div class="certificate-card">
                            <h4>${cert.name}</h4>
                            <p>Issued: ${new Date(cert.issuedAt).toLocaleDateString()}</p>
                            <button class="btn btn-primary" onclick="downloadCertificate('${cert.id}')">Download</button>
                        </div>
                    `;
                });
                certificatesGrid.innerHTML = html;
            });
        } catch (error) {
            console.error('Error loading certificates:', error);
        }
    }

    async function generateCertificate(userId, certificateName) {
        if (!database) return;
        
        try {
            await database.ref('certificates/' + userId).push({
                name: certificateName,
                issuedAt: new Date().toISOString()
            });
            
            await createNotification(userId, ` Certificate earned: ${certificateName}`, 'certificate');
        } catch (error) {
            console.error('Error generating certificate:', error);
        }
    }

    // ===== ANALYTICS =====
    async function loadAnalytics() {
        if (!currentUser || !database) return;
        
        try {
            const userRef = database.ref('users/' + currentUser.uid);
            userRef.once('value', (snapshot) => {
                const userData = snapshot.val();
                
                if (document.getElementById('analytics-hours')) {
                    document.getElementById('analytics-hours').textContent = (userData?.learningHours || 0) + 'h';
                }
                if (document.getElementById('analytics-courses-completed')) {
                    document.getElementById('analytics-courses-completed').textContent = userData?.coursesCompleted || 0;
                }
                if (document.getElementById('learning-streak')) {
                    document.getElementById('learning-streak').textContent = (userData?.learningStreak || 0) + ' days';
                }
                
                // Load top interests
                loadTopInterests();
            });
        } catch (error) {
            console.error('Error loading analytics:', error);
        }
    }

    function loadTopInterests() {
        const interests = ['Web Development', 'Data Science', 'Machine Learning'];
        const interestsList = document.getElementById('top-interests');
        if (interestsList) {
            let html = '';
            interests.forEach(interest => {
                html += `<div class="interest-item">${interest}</div>`;
            });
            interestsList.innerHTML = html;
        }
    }

    // ===== MENTORSHIP =====
    function loadMentorship() {
        loadMentors();
        loadDiscussionRoom();
    }

    function loadMentors() {
        const mentors = [
            { id: 'dileep', name: 'Dileep Choudhary', role: 'Founder & CEO' },
            { id: 'alena', name: 'Alena Alekseevna', role: 'Creative Director' },
            { id: 'ruslan', name: 'Ruslan Savenko', role: 'Team Leader' },
            { id: 'alina', name: 'Alina Ryabova', role: 'Community Manager' }
        ];
        
        const mentorList = document.getElementById('mentor-list');
        if (mentorList) {
            let html = '';
            mentors.forEach(mentor => {
                html += `
                    <div class="mentor-card">
                        <h4>${mentor.name}</h4>
                        <p>${mentor.role}</p>
                        <button class="btn btn-primary" onclick="bookMentor('${mentor.id}')">Book Session</button>
                    </div>
                `;
            });
            mentorList.innerHTML = html;
        }
    }

    function openAskMentorModal() {
        if (!currentUser) {
            alert('Please login to ask a mentor');
            return;
        }
        const modal = document.getElementById('askMentorModal');
        modal.style.display = 'block';
        modal.style.zIndex = '13000'; // Ensure it appears above dashboard
    }

    function closeAskMentorModal() {
        document.getElementById('askMentorModal').style.display = 'none';
        document.getElementById('askMentorForm').reset();
    }

    // ===== ELECTION HUB SYSTEM =====
    
    // Admin email list - Add your admin emails here
    const ADMIN_EMAILS = ['dileepchoudhary1008@gmail.com', 'admin@expressyourthoughts.live'];
    
    function isAdmin() {
        if (!currentUser) return false;
        return ADMIN_EMAILS.includes(currentUser.email);
    }
    
    function checkAdminStatus() {
        const createBtn = document.getElementById('create-election-btn');
        if (createBtn) {
            createBtn.style.display = isAdmin() ? 'block' : 'none';
        }
    }
    
    async function loadElections() {
        if (!database) return;
        
        try {
            const electionsRef = database.ref('elections');
            electionsRef.once('value', (snapshot) => {
                const elections = snapshot.val();
                if (!elections) {
                    document.getElementById('active-elections-list').innerHTML = 
                        '<p style="text-align: center; color: #888; padding: 2rem;">No active elections at the moment.</p>';
                    return;
                }
                
                const now = new Date();
                const activeElections = [];
                const pastElections = [];
                
                Object.entries(elections).forEach(([id, election]) => {
                    const startDate = new Date(election.startDate);
                    const endDate = new Date(election.endDate);
                    
                    if (now >= startDate && now <= endDate) {
                        activeElections.push({ id, ...election });
                    } else if (now > endDate) {
                        pastElections.push({ id, ...election });
                    }
                });
                
                // Sort by end date (soonest first for active, most recent first for past)
                activeElections.sort((a, b) => new Date(a.endDate) - new Date(b.endDate));
                pastElections.sort((a, b) => new Date(b.endDate) - new Date(a.endDate));
                
                renderElections(activeElections, 'active-elections-list', true);
                renderElections(pastElections, 'past-elections-list', false);
            });
        } catch (error) {
            console.error('Error loading elections:', error);
        }
    }
    
    function renderElections(elections, containerId, isActive) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        if (elections.length === 0) {
            container.innerHTML = `<p style="text-align: center; color: #888; padding: 2rem;">No ${isActive ? 'active' : 'past'} elections ${isActive ? 'at the moment' : 'to display'}.</p>`;
            return;
        }
        
        let html = '';
        elections.forEach(election => {
            const startDate = new Date(election.startDate);
            const endDate = new Date(election.endDate);
            const now = new Date();
            
            let status = 'ended';
            let statusText = 'Ended';
            const isEnded = now > endDate;
            if (now < startDate) {
                status = 'upcoming';
                statusText = 'Upcoming';
            } else if (now >= startDate && now <= endDate) {
                status = 'active';
                statusText = 'Active';
            }
            
            const candidatesCount = election.candidates ? Object.keys(election.candidates).length : 0;
            const votesCount = election.votes ? Object.keys(election.votes).length : 0;
            
            html += `
                <div class="election-card ${status}" onclick="viewElectionDetails('${election.id}')">
                    <div class="election-card-header">
                        <div>
                            <h4 class="election-card-title">${election.title}</h4>
                            <p class="election-card-position">${election.position}</p>
                        </div>
                        <span class="election-status ${status}">${statusText}</span>
                    </div>
                    <p class="election-card-description">${election.description || 'No description provided.'}</p>
                    <div class="election-card-meta">
                        <div class="candidates-count">
                            <i class="fas fa-users"></i>
                            <span>${candidatesCount} Candidate${candidatesCount !== 1 ? 's' : ''}</span>
                        </div>
                        ${isEnded ? `
                            <div>
                                <i class="fas fa-vote-yea"></i>
                                <span>${votesCount} Vote${votesCount !== 1 ? 's' : ''}</span>
                            </div>
                        ` : `
                            <div style="opacity: 0.6;">
                                <i class="fas fa-lock"></i>
                                <span>Results Hidden</span>
                            </div>
                        `}
                    </div>
                    <div style="margin-top: 1rem; font-size: 0.85rem; color: #888;">
                        <i class="fas fa-calendar"></i> Ends: ${endDate.toLocaleDateString()} ${endDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                    </div>
                </div>
            `;
        });
        
        container.innerHTML = html;
    }
    
    function openCreateElectionModal() {
        if (!isAdmin()) {
            alert('Only administrators can create elections.');
            return;
        }
        const modal = document.getElementById('createElectionModal');
        modal.style.display = 'block';
        modal.style.zIndex = '13000';
    }
    
    function closeCreateElectionModal() {
        document.getElementById('createElectionModal').style.display = 'none';
        document.getElementById('createElectionForm').reset();
        document.getElementById('custom-position-group').style.display = 'none';
    }
    
    function handlePositionChange() {
        const positionSelect = document.getElementById('election-position');
        const customGroup = document.getElementById('custom-position-group');
        if (positionSelect.value === 'Other') {
            customGroup.style.display = 'block';
        } else {
            customGroup.style.display = 'none';
        }
    }
    
    async function createElection(event) {
        event.preventDefault();
        
        // Diagnostic check
        console.log('=== ELECTION CREATION DIAGNOSTIC ===');
        console.log('Current User:', currentUser ? currentUser.email : 'NOT LOGGED IN');
        console.log('Is Admin:', isAdmin());
        console.log('Database:', database ? 'AVAILABLE' : 'NOT AVAILABLE');
        console.log('Auth:', auth ? 'AVAILABLE' : 'NOT AVAILABLE');
        
        if (!currentUser) {
            alert(' You are not logged in. Please login first.');
            openLoginModal();
            return;
        }
        
        if (!isAdmin()) {
            alert(' Only administrators can create elections.\n\nYour email: ' + currentUser.email + '\n\nPlease add your email to ADMIN_EMAILS array in the code.');
            return;
        }
        
        if (!database) {
            alert(' Database not available. Please check:\n1. Firebase is initialized\n2. Database rules allow writes\n3. Check browser console for errors');
            console.error('Database is null. Check Firebase initialization.');
            return;
        }
        
        if (!auth) {
            alert(' Authentication not available. Please refresh the page.');
            return;
        }
        
        const title = document.getElementById('election-title').value.trim();
        const description = document.getElementById('election-description').value.trim();
        let position = document.getElementById('election-position').value;
        const startDate = document.getElementById('election-start-date').value;
        const endDate = document.getElementById('election-end-date').value;
        const maxCandidates = parseInt(document.getElementById('election-max-candidates').value);
        
        if (position === 'Other') {
            position = document.getElementById('custom-position').value.trim();
            if (!position) {
                alert('Please enter a custom position name.');
                return;
            }
        }
        
        if (!title || !description || !position || !startDate || !endDate) {
            alert('Please fill in all required fields.');
            return;
        }
        
        if (new Date(startDate) >= new Date(endDate)) {
            alert('End date must be after start date.');
            return;
        }
        
        const submitBtn = event.target.querySelector('button[type="submit"]');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');
        
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline';
        submitBtn.disabled = true;
        
        try {
            const electionRef = database.ref('elections').push();
            await electionRef.set({
                title,
                description,
                position,
                startDate: new Date(startDate).toISOString(),
                endDate: new Date(endDate).toISOString(),
                maxCandidates,
                createdBy: currentUser.uid,
                createdAt: new Date().toISOString(),
                candidates: {},
                votes: {}
            });
            
            // Notify all users (don't fail if this errors)
            try {
                await createNotificationForAll('New Election Created', `${title} - ${position} election is now open!`, 'election');
            } catch (notifError) {
                console.log('Notification creation skipped:', notifError);
                // Continue even if notifications fail
            }
            
            alert(' Election created successfully!');
            closeCreateElectionModal();
            loadElections();
        } catch (error) {
            console.error('Error creating election:', error);
            alert('Error creating election: ' + error.message);
        } finally {
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
            submitBtn.disabled = false;
        }
    }
    
    function openCandidateRegistrationModal() {
        if (!currentUser) {
            alert('Please login to register as a candidate.');
            openLoginModal();
            return;
        }
        
        // Load active elections into dropdown
        if (database) {
            const electionsRef = database.ref('elections');
            electionsRef.once('value', (snapshot) => {
                const elections = snapshot.val();
                const select = document.getElementById('candidate-election-select');
                if (!select) return;
                
                select.innerHTML = '<option value="">Choose an election</option>';
                
                if (elections) {
                    const now = new Date();
                    Object.entries(elections).forEach(([id, election]) => {
                        const startDate = new Date(election.startDate);
                        const endDate = new Date(election.endDate);
                        if (now >= startDate && now <= endDate) {
                            const option = document.createElement('option');
                            option.value = id;
                            option.textContent = `${election.title} - ${election.position}`;
                            select.appendChild(option);
                        }
                    });
                }
            });
        }
        
        const modal = document.getElementById('candidateRegistrationModal');
        modal.style.display = 'block';
        modal.style.zIndex = '13000';
    }
    
    function closeCandidateRegistrationModal() {
        document.getElementById('candidateRegistrationModal').style.display = 'none';
        document.getElementById('candidateRegistrationForm').reset();
    }
    
    async function registerAsCandidate(event) {
        event.preventDefault();
        
        if (!currentUser || !database) {
            alert('Please login to register as a candidate.');
            return;
        }
        
        const electionId = document.getElementById('candidate-election-select').value;
        const manifesto = document.getElementById('candidate-manifesto').value.trim();
        const postLink = document.getElementById('candidate-post-link').value.trim();
        
        if (!electionId || !manifesto) {
            alert('Please fill in all required fields.');
            return;
        }
        
        try {
            const electionRef = database.ref('elections/' + electionId);
            const electionSnapshot = await electionRef.once('value');
            const election = electionSnapshot.val();
            
            if (!election) {
                alert('Election not found.');
                return;
            }
            
            // Check if already registered
            if (election.candidates) {
                const existingCandidate = Object.values(election.candidates).find(
                    c => c.userId === currentUser.uid
                );
                if (existingCandidate) {
                    alert('You are already registered as a candidate for this election.');
                    return;
                }
                
                // Check max candidates
                const candidatesCount = Object.keys(election.candidates).length;
                if (candidatesCount >= election.maxCandidates) {
                    alert(`Maximum number of candidates (${election.maxCandidates}) reached for this election.`);
                    return;
                }
            }
            
            // Get user data
            const userRef = database.ref('users/' + currentUser.uid);
            const userSnapshot = await userRef.once('value');
            const userData = userSnapshot.val();
            
            const candidateData = {
                userId: currentUser.uid,
                userName: userData?.name || currentUser.displayName || currentUser.email.split('@')[0],
                manifesto,
                postLink: postLink || null,
                registeredAt: new Date().toISOString(),
                votes: 0
            };
            
            await database.ref(`elections/${electionId}/candidates`).push(candidateData);
            
            // Add points
            await addPoints(currentUser.uid, 100, 'Registered as election candidate');
            
            // Create notification
            await createNotification(currentUser.uid, `You've successfully registered as a candidate for ${election.title}!`, 'election');
            
            alert(' Successfully registered as candidate!');
            closeCandidateRegistrationModal();
            loadElections();
        } catch (error) {
            console.error('Error registering as candidate:', error);
            alert('Error registering as candidate: ' + error.message);
        }
    }
    
    async function viewElectionDetails(electionId) {
        if (!database) return;
        
        try {
            const electionRef = database.ref('elections/' + electionId);
            const snapshot = await electionRef.once('value');
            const election = snapshot.val();
            
            if (!election) {
                alert('Election not found.');
                return;
            }
            
            const now = new Date();
            const startDate = new Date(election.startDate);
            const endDate = new Date(election.endDate);
            const isActive = now >= startDate && now <= endDate;
            const isEnded = now > endDate;
            
            document.getElementById('election-details-title').textContent = election.title;
            document.getElementById('election-details-position').textContent = election.position;
            
            const candidates = election.candidates || {};
            const votes = election.votes || {};
            const candidatesArray = Object.entries(candidates).map(([id, candidate]) => ({
                id,
                ...candidate
            }));
            
            // Sort by votes (descending) - but only if election ended, otherwise keep original order
            if (isEnded) {
                candidatesArray.sort((a, b) => (b.votes || 0) - (a.votes || 0));
            }
            
            let html = `
                <div style="margin-bottom: 2rem;">
                    <p style="color: #666; line-height: 1.6;">${election.description}</p>
                    <div style="margin-top: 1rem; display: flex; gap: 2rem; flex-wrap: wrap;">
                        <div><i class="fas fa-calendar-alt"></i> <strong>Start:</strong> ${startDate.toLocaleDateString()} ${startDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                        <div><i class="fas fa-calendar-times"></i> <strong>End:</strong> ${endDate.toLocaleDateString()} ${endDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                        <div><i class="fas fa-users"></i> <strong>Candidates:</strong> ${candidatesArray.length}</div>
                        ${isEnded ? `<div><i class="fas fa-vote-yea"></i> <strong>Total Votes:</strong> ${Object.keys(votes).length}</div>` : '<div><i class="fas fa-lock"></i> <strong>Results:</strong> Hidden until results day</div>'}
                        ${isEnded ? `<div style="color: #4caf50; font-weight: 600;"><i class="fas fa-check-circle"></i> Election Ended</div>` : isActive ? '<div style="color: #ff9800; font-weight: 600;"><i class="fas fa-clock"></i> Voting Active</div>' : '<div style="color: #888;"><i class="fas fa-hourglass-half"></i> Not Started</div>'}
                    </div>
                </div>
            `;
            
            if (isEnded) {
                const winner = candidatesArray[0];
                const hasWinner = winner && winner.votes > 0;
                
                html += `
                    <div class="election-results">
                        <div class="results-header">
                            ${hasWinner ? `
                                <div style="text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 20px; margin-bottom: 2rem; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);">
                                    <div style="font-size: 4rem; margin-bottom: 1rem;"></div>
                                    <h3 style="font-size: 2rem; margin-bottom: 0.5rem; color: white;">Election Results Are In!</h3>
                                    <p style="font-size: 1.2rem; opacity: 0.95;">The votes have been counted and the winner has been announced</p>
                                </div>
                                <div style="text-align: center; background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); padding: 1.5rem; border-radius: 15px; margin-bottom: 2rem; box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);">
                                    <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem; color: #333;"> Congratulations to the Winner! </h4>
                                    <p style="font-size: 1.1rem; color: #555; font-weight: 600;">${winner.userName}</p>
                                </div>
                            ` : `
                                <h4 style="text-align: center; color: #333; margin-bottom: 1rem;">Final Results</h4>
                                <p style="text-align: center; color: #888; margin-bottom: 2rem;">No votes were cast in this election.</p>
                            `}
                        </div>
                        <div class="candidate-list">
                `;
            } else {
                html += `
                    <div class="candidate-list">
                        <div style="background: #f0f4ff; border-left: 4px solid #667eea; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
                            <p style="margin: 0; color: #555; display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fas fa-lock" style="color: #667eea;"></i>
                                <strong>Vote counts are hidden during the election.</strong> Results will be revealed on ${endDate.toLocaleDateString()}!
                            </p>
                        </div>
                        <h4 style="margin-bottom: 1rem;">Candidates ${isActive ? '(Voting is Active)' : '(Voting Not Started)'}</h4>
                `;
            }
            
            if (candidatesArray.length === 0) {
                html += '<p style="text-align: center; color: #888; padding: 2rem;">No candidates registered yet.</p>';
            } else {
                candidatesArray.forEach((candidate, index) => {
                    const hasVoted = votes[currentUser?.uid] === candidate.id;
                    const canVote = isActive && currentUser && !votes[currentUser.uid];
                    const isWinner = isEnded && index === 0 && candidate.votes > 0;
                    const voteCount = candidate.votes || 0;
                    
                    html += `
                        <div class="candidate-card ${isWinner ? 'winner-card' : ''}">
                            <div class="candidate-header">
                                <div class="candidate-info">
                                    <div class="candidate-avatar ${isWinner ? 'winner-avatar' : ''}">${candidate.userName.charAt(0).toUpperCase()}</div>
                                    <div class="candidate-details">
                                        <h5>${candidate.userName} ${isWinner ? '<span class="winner-badge"> Winner</span>' : ''}</h5>
                                        <p>Registered: ${new Date(candidate.registeredAt).toLocaleDateString()}</p>
                                    </div>
                                </div>
                                ${isEnded ? `
                                    <div class="vote-count ${isWinner ? 'winner-vote-count' : ''}">
                                        <i class="fas fa-vote-yea"></i>
                                        <span>${voteCount} Vote${voteCount !== 1 ? 's' : ''}</span>
                                    </div>
                                ` : `
                                    <div class="vote-count" style="opacity: 0.5;">
                                        <i class="fas fa-lock"></i>
                                        <span>Hidden</span>
                                    </div>
                                `}
                            </div>
                            <div class="candidate-manifesto">
                                <strong>Campaign Manifesto:</strong><br>
                                ${candidate.manifesto}
                            </div>
                            ${candidate.postLink ? `
                                <a href="${candidate.postLink}" target="_blank" class="candidate-post-link">
                                    <i class="fas fa-link"></i> View Candidate's Post
                                </a>
                            ` : ''}
                            ${isEnded ? `
                                ${isWinner ? `
                                    <div style="background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); padding: 1rem; border-radius: 10px; text-align: center; margin-top: 1rem;">
                                        <p style="margin: 0; color: #333; font-weight: 700; font-size: 1.1rem;">
                                             Congratulations! You are the winner! 
                                        </p>
                                    </div>
                                ` : ''}
                            ` : canVote ? `
                                <button class="vote-button" onclick="castVote('${electionId}', '${candidate.id}')">
                                    <i class="fas fa-check"></i> Vote for ${candidate.userName}
                                </button>
                            ` : hasVoted ? `
                                <button class="vote-button voted" disabled>
                                    <i class="fas fa-check-circle"></i> You Voted for This Candidate
                                </button>
                            ` : !isActive ? `
                                <button class="vote-button" disabled>Voting Not Started</button>
                            ` : !currentUser ? `
                                <button class="vote-button" onclick="openLoginModal()">Login to Vote</button>
                            ` : ''}
                        </div>
                    `;
                });
            }
            
            html += '</div>';
            
            if (isEnded) {
                html += '</div>';
            }
            
            document.getElementById('election-details-content').innerHTML = html;
            
            const modal = document.getElementById('electionDetailsModal');
            modal.style.display = 'block';
            modal.style.zIndex = '13000';
        } catch (error) {
            console.error('Error loading election details:', error);
            alert('Error loading election details.');
        }
    }
    
    function closeElectionDetailsModal() {
        document.getElementById('electionDetailsModal').style.display = 'none';
    }
    
    async function castVote(electionId, candidateId) {
        if (!currentUser || !database) {
            alert('Please login to vote.');
            openLoginModal();
            return;
        }
        
        if (!confirm('Are you sure you want to cast your vote? This action cannot be undone.')) {
            return;
        }
        
        try {
            const electionRef = database.ref('elections/' + electionId);
            const electionSnapshot = await electionRef.once('value');
            const election = electionSnapshot.val();
            
            if (!election) {
                alert('Election not found.');
                return;
            }
            
            // Check if already voted
            if (election.votes && election.votes[currentUser.uid]) {
                alert('You have already voted in this election.');
                return;
            }
            
            // Check if election is active
            const now = new Date();
            const startDate = new Date(election.startDate);
            const endDate = new Date(election.endDate);
            
            if (now < startDate || now > endDate) {
                alert('Voting is not active for this election.');
                return;
            }
            
            // Record vote
            await database.ref(`elections/${electionId}/votes/${currentUser.uid}`).set(candidateId);
            
            // Update candidate vote count
            const candidates = election.candidates || {};
            let candidateKey = null;
            Object.entries(candidates).forEach(([key, candidate]) => {
                if (candidate.id === candidateId || key === candidateId) {
                    candidateKey = key;
                }
            });
            
            if (candidateKey) {
                const currentVotes = candidates[candidateKey].votes || 0;
                await database.ref(`elections/${electionId}/candidates/${candidateKey}/votes`).set(currentVotes + 1);
            }
            
            // Add points
            await addPoints(currentUser.uid, 50, 'Voted in election');
            
            // Create notification
            await createNotification(currentUser.uid, 'Your vote has been recorded! Thank you for participating.', 'election');
            
            alert(' Vote cast successfully!');
            viewElectionDetails(electionId); // Refresh view
        } catch (error) {
            console.error('Error casting vote:', error);
            alert('Error casting vote: ' + error.message);
        }
    }
    
    async function createNotificationForAll(title, message, type) {
        if (!database) return;
        
        try {
            const usersRef = database.ref('users');
            const usersSnapshot = await usersRef.once('value');
            const users = usersSnapshot.val();
            
            if (users && Object.keys(users).length > 0) {
                // Create notifications one by one to avoid overwhelming the database
                const userIds = Object.keys(users);
                for (const userId of userIds) {
                    try {
                        await createNotification(userId, message, type);
                    } catch (err) {
                        console.log(`Failed to notify user ${userId}:`, err);
                        // Continue with other users
                    }
                }
            }
        } catch (error) {
            console.error('Error creating notifications for all:', error);
            // Don't throw - this is not critical
        }
    }

    async function submitMentorRequest(event) {
        event.preventDefault();
        if (!currentUser || !database) return;
        
        const mentor = document.getElementById('mentor-select').value;
        const message = document.getElementById('mentor-message').value;
        const date = document.getElementById('mentor-date').value;
        
        try {
            await database.ref('mentorRequests').push({
                userId: currentUser.uid,
                mentor: mentor,
                message: message,
                date: date,
                status: 'pending',
                timestamp: new Date().toISOString()
            });
            
            alert('Mentor request submitted! We\'ll contact you soon.');
            closeAskMentorModal();
        } catch (error) {
            console.error('Error submitting mentor request:', error);
            alert('Error submitting request');
        }
    }

    async function loadDiscussionRoom() {
        if (!database) return;
        
        try {
            const messagesRef = database.ref('discussionRoom').orderByChild('timestamp').limitToLast(20);
            messagesRef.once('value', (snapshot) => {
                const messages = snapshot.val();
                const messagesContainer = document.getElementById('discussion-room-messages');
                
                if (!messages || !messagesContainer) {
                    if (messagesContainer) messagesContainer.innerHTML = '<p>No messages yet.</p>';
                    return;
                }
                
                let html = '';
                Object.values(messages).forEach(msg => {
                    html += `
                        <div class="community-post">
                            <strong>${msg.authorName}:</strong>
                            <p>${msg.message}</p>
                            <small>${new Date(msg.timestamp).toLocaleString()}</small>
                        </div>
                    `;
                });
                messagesContainer.innerHTML = html;
            });
        } catch (error) {
            console.error('Error loading discussion room:', error);
        }
    }

    async function sendDiscussionMessage() {
        if (!currentUser || !database) {
            alert('Please login to send messages');
            return;
        }
        
        const input = document.getElementById('discussion-message-input');
        const message = input.value.trim();
        
        if (!message) return;
        
        try {
            await database.ref('discussionRoom').push({
                authorId: currentUser.uid,
                authorName: currentUser.displayName || 'Anonymous',
                message: message,
                timestamp: new Date().toISOString()
            });
            
            input.value = '';
            loadDiscussionRoom();
        } catch (error) {
            console.error('Error sending message:', error);
            alert('Error sending message');
        }
    }

    // ===== PROFILE FUNCTIONS =====
    function triggerPhotoUpload() {
        document.getElementById('photo-upload').click();
    }

    async function uploadProfilePhoto(event) {
        const file = event.target.files[0];
        if (!file || !currentUser) return;
        
        // In a real app, you would upload to Firebase Storage
        // For now, we'll just use a data URL
        const reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById('dashboard-profile-photo').src = e.target.result;
            // Save to database
            if (database) {
                database.ref('users/' + currentUser.uid).update({
                    profilePhoto: e.target.result
                });
            }
        };
        reader.readAsDataURL(file);
    }

    // ===== FEEDBACK =====
    async function submitFeedback() {
        if (!currentUser || !database) {
            alert('Please login to submit feedback');
            return;
        }
        
        const feedback = document.getElementById('feedback-textarea').value;
        if (!feedback) {
            alert('Please enter your feedback');
            return;
        }
        
        try {
            await database.ref('feedback').push({
                userId: currentUser.uid,
                feedback: feedback,
                timestamp: new Date().toISOString()
            });
            
            alert('Thank you for your feedback!');
            document.getElementById('feedback-textarea').value = '';
        } catch (error) {
            console.error('Error submitting feedback:', error);
            alert('Error submitting feedback');
        }
    }

    // ===== SOCIAL MEDIA =====
    function shareOnLinkedIn() {
        const text = `Check out my achievements on Express Your Thoughts!`;
        const url = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;
        window.open(url, '_blank');
    }

    function shareOnInstagram() {
        alert('Share your achievements on Instagram! Copy your profile link and share it on Instagram.');
    }

    // ===== REFERRAL SYSTEM =====
    function generateReferralCode(userId) {
        return 'REF' + userId.substring(0, 8).toUpperCase();
    }

    async function loadReferralCode() {
        if (!currentUser || !database) return;
        
        try {
            const userRef = database.ref('users/' + currentUser.uid);
            userRef.once('value', (snapshot) => {
                const userData = snapshot.val();
                let referralCode = userData?.referralCode;
                
                if (!referralCode) {
                    referralCode = generateReferralCode(currentUser.uid);
                    userRef.update({ referralCode: referralCode });
                }
                
                if (document.getElementById('referral-code-input')) {
                    document.getElementById('referral-code-input').value = referralCode;
                }
                if (document.getElementById('profile-referral-code')) {
                    document.getElementById('profile-referral-code').textContent = referralCode;
                }
            });
        } catch (error) {
            console.error('Error loading referral code:', error);
        }
    }

    function copyReferralCode() {
        const input = document.getElementById('referral-code-input');
        input.select();
        document.execCommand('copy');
        alert('Referral code copied!');
    }

    // ===== OPPORTUNITIES FILTER =====
    function filterOpportunities(filter) {
        document.querySelectorAll('.filter-buttons .filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        
        const cards = document.querySelectorAll('.opportunity-card');
        cards.forEach(card => {
            if (filter === 'all') {
                card.style.display = 'block';
            } else if (filter === 'recommended') {
                // Show recommended based on user preferences
                card.style.display = 'block';
            } else {
                const cardType = card.getAttribute('data-type');
                if (cardType === filter) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            }
        });
    }

    async function applyToOpportunity(opportunityId) {
        if (!currentUser || !database) {
            alert('Please login to apply');
            return;
        }
        
        try {
            await database.ref('opportunityApplications').push({
                userId: currentUser.uid,
                opportunityId: opportunityId,
                appliedAt: new Date().toISOString(),
                status: 'pending'
            });
            
            // Add points for applying
            await addPoints(currentUser.uid, 15, 'Applied to opportunity');
            
            // Record activity
            await database.ref('userActivity/' + currentUser.uid).push({
                action: 'Applied to an opportunity',
                timestamp: new Date().toISOString()
            });
            
            alert('Application submitted successfully!');
        } catch (error) {
            console.error('Error applying to opportunity:', error);
            alert('Error submitting application');
        }
    }

    // ===== UPDATE PROFILE FUNCTION =====
    async function handleProfileUpdate(event) {
        event.preventDefault();
        
        if (!currentUser || !database) {
            alert('Database not available. Please try again.');
            return;
        }
        
        const name = document.getElementById('edit-name').value.trim();
        const phone = document.getElementById('edit-phone').value.trim();
        const bio = document.getElementById('edit-bio').value.trim();
        const skills = document.getElementById('edit-skills').value.trim();
        const domain = document.getElementById('edit-domain').value;
        
        if (!name) {
            alert('Please enter your name.');
            return;
        }

        const submitBtn = event.target.querySelector('button[type="submit"]');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');
        
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline';
        submitBtn.disabled = true;

        try {
            await database.ref('users/' + currentUser.uid).update({
                name: name,
                phone: phone,
                bio: bio,
                skills: skills,
                preferredDomain: domain,
                updatedAt: new Date().toISOString()
            });
            
            await currentUser.updateProfile({
                displayName: name
            });
            
            alert(' Profile updated successfully!');
            closeEditProfile();
            
            const updatedData = {
                name: name,
                phone: phone,
                bio: bio,
                skills: skills,
                preferredDomain: domain,
                email: currentUser.email
            };
            updateProfileDisplay(updatedData);
            updateAuthUI(updatedData);
            
        } catch (error) {
            console.error('Error updating profile:', error);
            alert('Error updating profile: ' + error.message);
        } finally {
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
            submitBtn.disabled = false;
        }
    }

    async function loadUserProfileData() {
        if (!currentUser || !database) return;
        
        try {
            const userRef = database.ref('users/' + currentUser.uid);
            userRef.once('value', (snapshot) => {
                const userData = snapshot.val();
                
                const nameInput = document.getElementById('edit-name');
                const phoneInput = document.getElementById('edit-phone');
                const emailInput = document.getElementById('edit-email');
                const bioInput = document.getElementById('edit-bio');
                const skillsInput = document.getElementById('edit-skills');
                const domainInput = document.getElementById('edit-domain');
                
                if (nameInput) nameInput.value = userData?.name || currentUser.displayName || '';
                if (phoneInput) phoneInput.value = userData?.phone || '';
                if (emailInput) emailInput.value = currentUser.email || '';
                if (bioInput) bioInput.value = userData?.bio || '';
                if (skillsInput) skillsInput.value = userData?.skills || '';
                if (domainInput) domainInput.value = userData?.preferredDomain || '';
                
                // Fix: Always update profile display to show photo and bio on dashboard
                updateProfileDisplay(userData);
                
                // Also ensure photo is loaded if it exists
                if (userData?.profilePhoto) {
                    const dashboardPhoto = document.getElementById('dashboard-profile-photo');
                    if (dashboardPhoto) {
                        dashboardPhoto.src = userData.profilePhoto;
                    }
                }
            });
        } catch (error) {
            console.error('Error loading profile data:', error);
        }
    }

    function updateProfileDisplay(userData) {
        const profileName = document.getElementById('profile-name');
        const profileEmail = document.getElementById('profile-email');
        const profilePhone = document.getElementById('profile-phone');
        const profileBio = document.getElementById('profile-bio');
        const profileSkills = document.getElementById('profile-skills');
        const profileDomain = document.getElementById('profile-domain');
        const dashboardUsername = document.getElementById('dashboard-username');
        const dashboardUsernameFull = document.getElementById('dashboard-username-full');
        const dashboardUserBio = document.getElementById('dashboard-user-bio');
        const dashboardProfilePhoto = document.getElementById('dashboard-profile-photo');
        
        const userName = userData?.name || currentUser?.displayName || userData?.email?.split('@')[0] || 'User';
        
        if (profileName) profileName.textContent = userName;
        if (profileEmail) profileEmail.textContent = userData?.email || currentUser?.email || 'No email';
        if (profilePhone) profilePhone.textContent = userData?.phone || 'Not set';
        if (profileBio) profileBio.textContent = userData?.bio || 'No bio yet';
        if (profileSkills) profileSkills.textContent = userData?.skills || 'No skills added';
        if (profileDomain) profileDomain.textContent = userData?.preferredDomain || 'Not set';
        if (dashboardUsername) dashboardUsername.textContent = userName;
        if (dashboardUsernameFull) dashboardUsernameFull.textContent = userName;
        
        // Fix: Always update bio on dashboard, even if empty
        if (dashboardUserBio) {
            dashboardUserBio.textContent = userData?.bio || 'No bio yet. Click edit to add one!';
        }
        
        // Fix: Always load photo if it exists in database
        if (dashboardProfilePhoto) {
            if (userData?.profilePhoto) {
                dashboardProfilePhoto.src = userData.profilePhoto;
            } else {
                // Keep default placeholder if no photo
                dashboardProfilePhoto.src = dashboardProfilePhoto.src || "https://via.placeholder.com/120/667eea/ffffff?text=User";
            }
        }
        
        // Update growth percentage
        const growthPercent = calculateGrowthPercent(userData);
        if (document.getElementById('user-growth-percent')) {
            document.getElementById('user-growth-percent').textContent = growthPercent + '%';
        }
        if (document.getElementById('growth-progress-bar')) {
            document.getElementById('growth-progress-bar').style.width = growthPercent + '%';
        }
    }

    function calculateGrowthPercent(userData) {
        let score = 0;
        if (userData?.points) score += Math.min(userData.points / 10, 30);
        if (userData?.coursesCompleted) score += userData.coursesCompleted * 10;
        if (userData?.submissionsCount) score += userData.submissionsCount * 5;
        if (userData?.learningHours) score += userData.learningHours * 2;
        return Math.min(Math.round(score), 100);
    }

    // ===== EXCLUSIVE CONTENT FUNCTIONS =====
    async function loadExclusiveContent() {
        if (!currentUser || !database) return;
        
        const contentArea = document.getElementById('exclusive-content-area');
        if (!contentArea) return;
        
        try {
            const userRef = database.ref('users/' + currentUser.uid);
            userRef.once('value', (snapshot) => {
                const userData = snapshot.val();
                const isEnrolled = userData?.exclusiveContentEnrolled || false;
                
                if (isEnrolled) {
                    // Show enrolled content
                    contentArea.innerHTML = `
                        <div class="exclusive-card">
                            <h3><i class="fas fa-party-horn"></i> Welcome to Exclusive Content!</h3>
                            <p>You have full access to all premium courses and resources.</p>
                        </div>
                        <div class="exclusive-content">
                            <div class="content-item">
                                <h4><i class="fas fa-video"></i> Course Video 1</h4>
                                <video controls>
                                    <source src="https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                <p>Introduction to Web Development</p>
                            </div>
                            <div class="content-item">
                                <h4> Resource Gallery</h4>
                                <img src="https://via.placeholder.com/400x300/667eea/ffffff?text=Course+Material" alt="Course Material">
                                <p>Downloadable resources and study materials</p>
                            </div>
                            <div class="content-item">
                                <h4><i class="fas fa-book"></i> Course Module 2</h4>
                                <p>Advanced topics and hands-on exercises</p>
                                <a href="#" class="btn btn-primary" style="margin-top: 1rem;">Access Course </a>
                            </div>
                        </div>
                        <div style="margin-top: 2rem; padding: 1.5rem; background: #f8f9fa; border-radius: 15px;">
                            <h4><i class="fas fa-lightbulb"></i> How to Add Your Content:</h4>
                            <p>1. Replace video URLs with your course videos<br>
                               2. Upload images to your server and update image src<br>
                               3. Add links to downloadable resources<br>
                               4. Structure content in modules for better organization</p>
                        </div>
                    `;
                } else {
                    // Show enrollment prompt
                    contentArea.innerHTML = `
                        <div class="exclusive-card">
                            <h3><i class="fas fa-star"></i> Exclusive Content</h3>
                            <p style="font-size: 1.2rem; margin: 1rem 0;">Unlock premium courses, videos, and exclusive resources</p>
                            <div style="margin: 2rem 0;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;"><i class="fas fa-coins" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></i></div>
                                <div class="price-display" style="color: white;">$1.00</div>
                                <p style="font-size: 0.9rem; opacity: 0.9;">One-time payment for lifetime access</p>
                            </div>
                            <button class="btn btn-primary" onclick="openPaymentModal()" style="padding: 15px 40px; font-size: 1.1rem;">
                                Enroll Now - $1.00
                            </button>
                        </div>
                        <div style="background: white; border-radius: 15px; padding: 2rem; margin-top: 2rem;">
                            <h4 style="color: #667eea; margin-bottom: 1rem;">What You'll Get:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li style="padding: 0.5rem 0; color: #555;"><i class="fas fa-check-circle" style="color: #4caf50;"></i> Premium video courses</li>
                                <li style="padding: 0.5rem 0; color: #555;"><i class="fas fa-check-circle" style="color: #4caf50;"></i> Exclusive study materials</li>
                                <li style="padding: 0.5rem 0; color: #555;"><i class="fas fa-check-circle" style="color: #4caf50;"></i> Downloadable resources</li>
                                <li style="padding: 0.5rem 0; color: #555;"><i class="fas fa-check-circle" style="color: #4caf50;"></i> Lifetime access</li>
                            </ul>
                        </div>
                    `;
                }
            });
        } catch (error) {
            console.error('Error loading exclusive content:', error);
            contentArea.innerHTML = '<p style="text-align: center; color: #f44336;">Error loading content. Please try again.</p>';
        }
    }

    // ===== PAYMENT FUNCTIONS =====
    function openPaymentModal() {
        const modal = document.getElementById('paymentModal');
        if (modal) {
            modal.style.display = 'block';
            modal.style.zIndex = '13000';
            document.body.classList.add('modal-open');
        }
    }

    function closePaymentModal() {
        const modal = document.getElementById('paymentModal');
        if (modal) {
            modal.style.cssText = 'display: none !important';
            document.body.classList.remove('modal-open');
        }
    }

    async function processPayment(event) {
        event.preventDefault();
        
        if (!currentUser || !database) {
            alert('Please login first!');
            return;
        }
        
        const submitBtn = event.target.querySelector('button[type="submit"]');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');
        
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline';
        submitBtn.disabled = true;
        
        try {
            // DEMO: In real implementation, you would:
            // 1. Send payment details to your payment processor (Stripe, PayPal, etc.)
            // 2. Verify payment on server
            // 3. Then update user enrollment status
            
            // For now, simulate payment success
            await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate processing
            
            // Save payment record to database
            const paymentData = {
                userId: currentUser.uid,
                amount: 1.00,
                currency: 'USD',
                status: 'completed',
                timestamp: new Date().toISOString(),
                method: 'card'
            };
            
            await database.ref('payments/' + currentUser.uid).push(paymentData);
            
            // Update user enrollment status
            await database.ref('users/' + currentUser.uid).update({
                exclusiveContentEnrolled: true,
                enrolledAt: new Date().toISOString()
            });
            
            alert(' Payment successful! You now have access to exclusive content! ');
            closePaymentModal();
            
            // Reload exclusive content tab
            loadExclusiveContent();
            
        } catch (error) {
            console.error('Payment error:', error);
            alert(' Payment failed. Please try again or contact support.');
        } finally {
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
            submitBtn.disabled = false;
        }
    }

    // ===== MATH PUZZLE GAME =====
    let puzzleScore = 0;
    let currentAnswer = 0;
    let currentPuzzle = null;

    function generateNewPuzzle() {
        const num1 = Math.floor(Math.random() * 50) + 1;
        const num2 = Math.floor(Math.random() * 50) + 1;
        const operations = ['+', '-', '*'];
        const op = operations[Math.floor(Math.random() * operations.length)];
        
        let answer;
        switch(op) {
            case '+':
                answer = num1 + num2;
                break;
            case '-':
                answer = num1 - num2;
                break;
            case '*':
                answer = num1 * num2;
                break;
        }
        
        currentAnswer = answer;
        currentPuzzle = { num1, num2, op, answer };
        
        const questionEl = document.getElementById('puzzle-question');
        if (questionEl) {
            questionEl.textContent = `${num1} ${op} ${num2} = ?`;
        }
        
        // Generate wrong answers
        const wrongAnswers = [];
        while (wrongAnswers.length < 3) {
            const wrong = answer + Math.floor(Math.random() * 20) - 10;
            if (wrong !== answer && wrong > 0 && !wrongAnswers.includes(wrong)) {
                wrongAnswers.push(wrong);
            }
        }
        
        // Create options array with correct and wrong answers
        const options = [answer, ...wrongAnswers];
        // Shuffle options
        for (let i = options.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [options[i], options[j]] = [options[j], options[i]];
        }
        
        // Display options
        const optionsEl = document.getElementById('puzzle-options');
        if (optionsEl) {
            optionsEl.innerHTML = options.map(opt => 
                `<button class="puzzle-btn" onclick="checkAnswer(${opt})">${opt}</button>`
            ).join('');
        }
    }

    function checkAnswer(selectedAnswer) {
        const buttons = document.querySelectorAll('.puzzle-btn');
        buttons.forEach(btn => {
            btn.disabled = true;
            const btnValue = parseInt(btn.textContent);
            if (btnValue === currentAnswer) {
                btn.classList.add('correct');
            } else if (btnValue === selectedAnswer && btnValue !== currentAnswer) {
                btn.classList.add('wrong');
            }
        });
        
        if (selectedAnswer === currentAnswer) {
            puzzleScore++;
            updateScore();
            setTimeout(() => {
                generateNewPuzzle();
                buttons.forEach(btn => btn.disabled = false);
            }, 1500);
        } else {
            setTimeout(() => {
                generateNewPuzzle();
                buttons.forEach(btn => {
                    btn.disabled = false;
                    btn.classList.remove('correct', 'wrong');
                });
            }, 1500);
        }
    }

    function updateScore() {
        const scoreEl = document.getElementById('puzzle-score');
        if (scoreEl) {
            scoreEl.textContent = puzzleScore;
        }
    }

    function resetPuzzleScore() {
        puzzleScore = 0;
        updateScore();
        generateNewPuzzle();
    }

    // Initialize puzzle on page load
    if (document.getElementById('puzzle-question')) {
        generateNewPuzzle();
    }

    // ===== PAYMENT INTEGRATION GUIDE =====
    // 
    // TO CONNECT REAL PAYMENTS TO YOUR BANK ACCOUNT:
    // 
    // 1. STRIPE (Recommended - Easiest):
    //    - Sign up at https://stripe.com
    //    - Get your API keys (Publishable Key & Secret Key)
    //    - Replace the processPayment() function to use Stripe.js:
    //    - Add Stripe.js to your HTML head: script tag with src="https://js.stripe.com/v3/"
    //    - In processPayment() use: Stripe('YOUR_PUBLISHABLE_KEY')
    //    - Stripe automatically deposits to your bank account (2-7 days)
    //    - Stripe charges: 2.9% + $0.30 per transaction
    // 
    // 2. PAYPAL:
    //    - Sign up at https://developer.paypal.com
    //    - Create a PayPal Business account
    //    - Use PayPal SDK with script tag src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID"
    //    - Use paypal.Buttons() to create payment buttons
    //    - PayPal deposits to your PayPal account (instant or 1-2 days to bank)
    //    - PayPal charges: 2.9% + fixed fee per transaction
    // 
    // 3. RAZORPAY (For India):
    //    - Sign up at https://razorpay.com
    //    - Get API keys
    //    - Use Razorpay Checkout with options object containing key, amount, currency
    //    - Razorpay deposits to your bank (2-3 days)
    //    - Razorpay charges: 2% per transaction
    // 
    // 4. MANUAL BANK TRANSFER:
    //    - Create a backend API endpoint
    //    - Accept payment details
    //    - Use bank's payment gateway API (provided by your bank)
    //    - Update database after successful payment
    // 
    // SECURITY NOTES:
    // - NEVER store card details in your database
    // - Always use HTTPS for payment pages
    // - Verify payments on your server (not just client-side)
    // - Use payment processor's secure tokenization
    // - Comply with PCI DSS standards
    // 
    // CURRENT IMPLEMENTATION:
    // - This is a DEMO version that simulates payment
    // - Replace processPayment() function with real payment integration
    // - Update the backend to verify payments server-side
    // - Add webhook listeners for payment confirmation

    // ===== DASHBOARD SIZE CONTROL =====
    function minimizeDashboard() {
        const modal = document.getElementById('dashboardModal');
        if (modal) {
            // Restore to original size
            const content = modal.querySelector('.modal-content');
            if (content) {
                content.style.width = '';
                content.style.height = '';
                content.style.maxWidth = '1000px';
                content.style.maxHeight = '85vh';
                content.style.margin = '5% auto';
                content.style.borderRadius = '20px';
            }
            
            // Change button text
            const minimizeBtn = document.querySelector('button[onclick="minimizeDashboard()"]');
            if (minimizeBtn) {
                minimizeBtn.textContent = 'Full Screen';
                minimizeBtn.setAttribute('onclick', 'maximizeDashboard()');
            }
        }
    }

    function maximizeDashboard() {
        const modal = document.getElementById('dashboardModal');
        if (modal) {
            // Make full screen
            const content = modal.querySelector('.modal-content');
            if (content) {
                content.style.width = '95vw';
                content.style.height = '95vh';
                content.style.maxWidth = 'none';
                content.style.maxHeight = 'none';
                content.style.margin = '2.5vh auto';
                content.style.borderRadius = '20px';
            }
            
            // Change button text
            const maximizeBtn = document.querySelector('button[onclick="maximizeDashboard()"]');
            if (maximizeBtn) {
                maximizeBtn.textContent = 'Minimize';
                maximizeBtn.setAttribute('onclick', 'minimizeDashboard()');
            }
        }
    }
    // ===== PROFILE EDITING FUNCTIONS =====
    function openEditProfile() {
        if (!currentUser) {
            alert("Please login first!");
            return;
        }
        
        const modal = document.getElementById('editProfileModal');
        if (!modal) {
            alert("Error: Edit profile modal not found");
            return;
        }
        
        loadUserProfileData();
        modal.style.display = 'block';
        modal.style.zIndex = '13000'; // Ensure it appears above dashboard
        document.body.classList.add('modal-open');
    }

    function closeEditProfile() {
        document.getElementById('editProfileModal').style.cssText = 'display: none !important';
        document.body.classList.remove('modal-open');
    }

    async function loadUserProfileData() {
        if (!currentUser || !database) return;
        
        try {
            const userRef = database.ref('users/' + currentUser.uid);
            userRef.once('value', (snapshot) => {
                const userData = snapshot.val();
                
                const nameInput = document.getElementById('edit-name');
                const phoneInput = document.getElementById('edit-phone');
                const emailInput = document.getElementById('edit-email');
                
                if (nameInput) nameInput.value = userData?.name || currentUser.displayName || '';
                if (phoneInput) phoneInput.value = userData?.phone || '';
                if (emailInput) emailInput.value = currentUser.email || '';
                
                updateProfileDisplay(userData);
            });
        } catch (error) {
            console.error('Error loading profile data:', error);
        }
    }

    async function handleProfileUpdate(event) {
        event.preventDefault();
        
        if (!currentUser || !database) {
            alert('Database not available. Please try again.');
            return;
        }
        
        const name = document.getElementById('edit-name').value.trim();
        const phone = document.getElementById('edit-phone').value.trim();
        
        if (!name) {
            alert('Please enter your name.');
            return;
        }

        const submitBtn = event.target.querySelector('button[type="submit"]');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');
        
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline';
        submitBtn.disabled = true;

        try {
            await database.ref('users/' + currentUser.uid).update({
                name: name,
                phone: phone,
                updatedAt: new Date().toISOString()
            });
            
            await currentUser.updateProfile({
                displayName: name
            });
            
            alert(' Profile updated successfully!');
            closeEditProfile();
            
            const updatedData = {
                name: name,
                phone: phone,
                email: currentUser.email
            };
            updateProfileDisplay(updatedData);
            updateAuthUI(updatedData);
            
        } catch (error) {
            console.error('Error updating profile:', error);
            alert('Error updating profile: ' + error.message);
        } finally {
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
            submitBtn.disabled = false;
        }
    }

       function updateProfileDisplay(userData) {
        const profileName = document.getElementById('profile-name');
        const profileEmail = document.getElementById('profile-email');
        const profilePhone = document.getElementById('profile-phone');
        const dashboardUsername = document.getElementById('dashboard-username');
        
        // Use database name first, then fallbacks
        const userName = userData?.name || currentUser?.displayName || userData?.email?.split('@')[0] || 'User';
        
        if (profileName) profileName.textContent = userName;
        if (profileEmail) profileEmail.textContent = userData?.email || currentUser?.email || 'No email';
        if (profilePhone) profilePhone.textContent = userData?.phone || 'Not set';
        if (dashboardUsername) dashboardUsername.textContent = userName;
        
        console.log(' Profile display updated with name:', userName);
    }

    // ===== SUBMISSIONS FUNCTIONS =====
    async function saveSubmissionToDatabase(submissionData) {
        if (!database || !currentUser) return null;
        
        try {
            const submissionRef = database.ref('submissions').push();
            await submissionRef.set({
                ...submissionData,
                userId: currentUser.uid,
                userEmail: currentUser.email,
                submittedAt: new Date().toISOString(),
                id: submissionRef.key
            });
            
            // Update user submission count
            const userRef = database.ref('users/' + currentUser.uid);
            const userSnapshot = await userRef.once('value');
            const userData = userSnapshot.val();
            const currentCount = userData?.submissionsCount || 0;
            
            await userRef.update({
                submissionsCount: currentCount + 1
            });
            
            // Add points for submission
            await addPoints(currentUser.uid, 20, 'Submitted a thought');
            
            // Record activity
            await database.ref('userActivity/' + currentUser.uid).push({
                action: 'Submitted a thought: ' + submissionData.title,
                timestamp: new Date().toISOString()
            });
            
            return submissionRef.key;
        } catch (error) {
            console.error('Error saving submission:', error);
            return null;
        }
    }

    async function loadUserSubmissions() {
        if (!currentUser || !database) return;

        const submissionsList = document.getElementById('user-submissions');
        if (!submissionsList) return;
        
        submissionsList.innerHTML = '<p style="text-align: center;">Loading submissions... </p>';

        try {
            const submissionsRef = database.ref('submissions').orderByChild('userId').equalTo(currentUser.uid);
            submissionsRef.once('value', (snapshot) => {
                const submissions = snapshot.val();
                
                if (!submissions) {
                    submissionsList.innerHTML = `
                        <p style="text-align: center; color: #888; padding: 2rem;">
                            You haven't submitted any thoughts yet.<br>
                            <a href="#submit" onclick="closeDashboard()" style="color: #667eea; font-weight: bold;">Submit your first thought!</a>
                        </p>
                    `;
                    const statEl = document.getElementById('stat-submissions');
                    if (statEl) statEl.textContent = '0';
                    return;
                }

                let html = '<div style="display: grid; gap: 1rem;">';
                const keys = Object.keys(submissions);
                Object.keys(submissions).forEach(key => {
                    const data = submissions[key];
                    const date = data.submittedAt ? new Date(data.submittedAt).toLocaleDateString() : 'Recent';
                    html += `
                        <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 1.5rem; border-radius: 15px;">
                            <h4 style="color: #667eea; margin-bottom: 0.5rem;">${data.title || 'Untitled'}</h4>
                            <p style="color: #888; font-size: 0.9rem; margin-bottom: 0.5rem;"> ${date} |  ${data.category || 'General'}</p>
                            <p style="color: #555; line-height: 1.6;">${data.thoughts ? data.thoughts.substring(0, 150) + '...' : ''}</p>
                        </div>
                    `;
                });
                html += '</div>';
                submissionsList.innerHTML = html;

                // Update stats card count
                const statEl = document.getElementById('stat-submissions');
                if (statEl) statEl.textContent = String(keys.length);
                
                // Update home dashboard if visible
                if (document.getElementById('home-submissions-count')) {
                    document.getElementById('home-submissions-count').textContent = String(keys.length);
                }
            });

        } catch (error) {
            console.error('Error loading submissions:', error);
            submissionsList.innerHTML = '<p style="text-align: center; color: #f44336;">Error loading submissions.</p>';
        }
    }

    // ===== FORM SUBMISSION =====
    document.getElementById('thoughtForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const submitButton = this.querySelector('button[type="submit"]');
        const originalText = submitButton.innerHTML;
        
        submitButton.innerHTML = 'Sending... ';
        submitButton.disabled = true;
        
        try {
            const formData = new FormData(this);
            const submissionData = {
                name: formData.get('name'),
                email: formData.get('email'),
                category: formData.get('category'),
                title: formData.get('title'),
                thoughts: formData.get('message'),
                impact: formData.get('impact'),
                submissionTime: new Date().toLocaleString()
            };
            
            if (currentUser) {
                submissionData.userId = currentUser.uid;
                submissionData.userName = currentUser.displayName || formData.get('name');
                await saveSubmissionToDatabase(submissionData);
            }
            
            const response = await fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                body: formData
            });
            
            const result = await response.json();
            
            if (response.ok && result.success) {
                showSuccessModal();
                this.reset();
            } else {
                throw new Error('Submission failed');
            }
            
        } catch (error) {
            console.error('Error:', error);
            showErrorModal();
        } finally {
            submitButton.innerHTML = originalText;
            submitButton.disabled = false;
        }
    });

    // ===== INITIALIZE =====
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            console.log(' DOM loaded - initializing Firebase...');
            initializeFirebase();
        });
    } else {
        console.log(' DOM already loaded - initializing Firebase...');
        initializeFirebase();
    }

    console.log(' All authentication functions loaded!');
      // ===== IMPRESSIVE SCROLL ANIMATIONS =====
    function initScrollAnimations() {
        // Scroll progress bar
        const progressBar = document.querySelector('.scroll-progress');
        
        // Scroll animation for elements
        const animatedElements = document.querySelectorAll('.scroll-animation');
        
        // Floating elements
        createFloatingElements();
        
        // Scroll event listeners
        window.addEventListener('scroll', function() {
            // Progress bar
            if (progressBar) {
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight - windowHeight;
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const progress = (scrollTop / documentHeight) * 100;
                progressBar.style.width = progress + '%';
            }
            
            // Animate elements on scroll
            animatedElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < window.innerHeight - elementVisible) {
                    element.classList.add('visible');
                }
            });
            
            // Parallax effect
            const parallaxElements = document.querySelectorAll('.parallax-bg');
            parallaxElements.forEach(element => {
                const speed = 0.5;
                const yPos = -(window.pageYOffset * speed);
                element.style.transform = `translateY(${yPos}px)`;
            });
        });
        
        // Trigger initial animation check
        animatedElements.forEach(element => {
            const elementTop = element.getBoundingClientRect().top;
            const elementVisible = 150;
            
            if (elementTop < window.innerHeight - elementVisible) {
                element.classList.add('visible');
            }
        });
    }

    function createFloatingElements() {
        const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c'];
        const container = document.querySelector('.parallax-section');
        
        if (!container) return;
        
        for (let i = 0; i < 15; i++) {
            const element = document.createElement('div');
            element.classList.add('floating-element');
            
            // Random properties
            const size = Math.random() * 60 + 20;
            const color = colors[Math.floor(Math.random() * colors.length)];
            const left = Math.random() * 100;
            const top = Math.random() * 100;
            const delay = Math.random() * 5;
            const duration = Math.random() * 3 + 3;
            
            element.style.width = size + 'px';
            element.style.height = size + 'px';
            element.style.background = color;
            element.style.left = left + '%';
            element.style.top = top + '%';
            element.style.animationDelay = delay + 's';
            element.style.animationDuration = duration + 's';
            element.style.opacity = Math.random() * 0.3 + 0.1;
            
            container.appendChild(element);
        }
    }

    // Initialize scroll animations when page loads
    document.addEventListener('DOMContentLoaded', function() {
        initScrollAnimations();
    });

   

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeFirebase);
    } else {
        initializeFirebase();
    }
      // ===== TEST FUNCTION =====
    function testAuth() {
        console.log('=== AUTH TEST ===');
        console.log('Auth:', auth);
        console.log('Database:', database);
        console.log('Current User:', currentUser);
        console.log('Firebase:', typeof firebase);
        
        alert('Check browser console for auth status');
    }

    console.log(' Auth system loaded!');


    console.log(' All authentication functions loaded!');


</script>

</body>
</html>


